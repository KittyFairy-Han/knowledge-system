<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>VuePress</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="image/logo.png">
    <meta name="description" content="">
    
    <link rel="preload" href="/knowledge-system/assets/css/0.styles.1f67f494.css" as="style"><link rel="preload" href="/knowledge-system/assets/js/app.744a76bb.js" as="script"><link rel="preload" href="/knowledge-system/assets/js/2.2562ca4f.js" as="script"><link rel="preload" href="/knowledge-system/assets/js/1.8b017304.js" as="script"><link rel="preload" href="/knowledge-system/assets/js/49.5c89a04e.js" as="script"><link rel="prefetch" href="/knowledge-system/assets/js/10.e2e766c3.js"><link rel="prefetch" href="/knowledge-system/assets/js/100.61058c7c.js"><link rel="prefetch" href="/knowledge-system/assets/js/101.858c32c1.js"><link rel="prefetch" href="/knowledge-system/assets/js/102.e1d88b5b.js"><link rel="prefetch" href="/knowledge-system/assets/js/103.d4a262c7.js"><link rel="prefetch" href="/knowledge-system/assets/js/104.200daf6b.js"><link rel="prefetch" href="/knowledge-system/assets/js/105.7e6b68b3.js"><link rel="prefetch" href="/knowledge-system/assets/js/106.48d11ad6.js"><link rel="prefetch" href="/knowledge-system/assets/js/107.b5b5f15c.js"><link rel="prefetch" href="/knowledge-system/assets/js/108.e7ffd05c.js"><link rel="prefetch" href="/knowledge-system/assets/js/109.f1ac8437.js"><link rel="prefetch" href="/knowledge-system/assets/js/11.0c934087.js"><link rel="prefetch" href="/knowledge-system/assets/js/110.65f5c30f.js"><link rel="prefetch" href="/knowledge-system/assets/js/111.19148b5b.js"><link rel="prefetch" href="/knowledge-system/assets/js/112.61c055bc.js"><link rel="prefetch" href="/knowledge-system/assets/js/113.faaf3f5d.js"><link rel="prefetch" href="/knowledge-system/assets/js/114.c44ec05f.js"><link rel="prefetch" href="/knowledge-system/assets/js/115.5c9997c9.js"><link rel="prefetch" href="/knowledge-system/assets/js/116.f6903df3.js"><link rel="prefetch" href="/knowledge-system/assets/js/117.360bd58a.js"><link rel="prefetch" href="/knowledge-system/assets/js/12.95c9a347.js"><link rel="prefetch" href="/knowledge-system/assets/js/13.3a840b0a.js"><link rel="prefetch" href="/knowledge-system/assets/js/14.ba2ba6cb.js"><link rel="prefetch" href="/knowledge-system/assets/js/15.3d96b3d1.js"><link rel="prefetch" href="/knowledge-system/assets/js/16.ddb321b8.js"><link rel="prefetch" href="/knowledge-system/assets/js/17.108a8d20.js"><link rel="prefetch" href="/knowledge-system/assets/js/18.91cc2463.js"><link rel="prefetch" href="/knowledge-system/assets/js/19.713fcc0f.js"><link rel="prefetch" href="/knowledge-system/assets/js/20.153f19b1.js"><link rel="prefetch" href="/knowledge-system/assets/js/21.60aaec96.js"><link rel="prefetch" href="/knowledge-system/assets/js/22.759607fe.js"><link rel="prefetch" href="/knowledge-system/assets/js/23.d6eab9bd.js"><link rel="prefetch" href="/knowledge-system/assets/js/24.abcdffb3.js"><link rel="prefetch" href="/knowledge-system/assets/js/25.ea680c99.js"><link rel="prefetch" href="/knowledge-system/assets/js/26.9bba005a.js"><link rel="prefetch" href="/knowledge-system/assets/js/27.46747b77.js"><link rel="prefetch" href="/knowledge-system/assets/js/28.592ddb80.js"><link rel="prefetch" href="/knowledge-system/assets/js/29.67808962.js"><link rel="prefetch" href="/knowledge-system/assets/js/3.76be74e7.js"><link rel="prefetch" href="/knowledge-system/assets/js/30.3c236e05.js"><link rel="prefetch" href="/knowledge-system/assets/js/31.91774148.js"><link rel="prefetch" href="/knowledge-system/assets/js/32.5655abbf.js"><link rel="prefetch" href="/knowledge-system/assets/js/33.aa620044.js"><link rel="prefetch" href="/knowledge-system/assets/js/34.b7a75e8c.js"><link rel="prefetch" href="/knowledge-system/assets/js/35.8a81bea6.js"><link rel="prefetch" href="/knowledge-system/assets/js/36.7c498752.js"><link rel="prefetch" href="/knowledge-system/assets/js/37.f85d624c.js"><link rel="prefetch" href="/knowledge-system/assets/js/38.f4a6133d.js"><link rel="prefetch" href="/knowledge-system/assets/js/39.34cf94b8.js"><link rel="prefetch" href="/knowledge-system/assets/js/4.652c7830.js"><link rel="prefetch" href="/knowledge-system/assets/js/40.d4e090d0.js"><link rel="prefetch" href="/knowledge-system/assets/js/41.e7a01d97.js"><link rel="prefetch" href="/knowledge-system/assets/js/42.c25c23de.js"><link rel="prefetch" href="/knowledge-system/assets/js/43.3016360f.js"><link rel="prefetch" href="/knowledge-system/assets/js/44.37c512be.js"><link rel="prefetch" href="/knowledge-system/assets/js/45.b5df5082.js"><link rel="prefetch" href="/knowledge-system/assets/js/46.bc0039b8.js"><link rel="prefetch" href="/knowledge-system/assets/js/47.81491902.js"><link rel="prefetch" href="/knowledge-system/assets/js/48.7b387717.js"><link rel="prefetch" href="/knowledge-system/assets/js/5.8da143bf.js"><link rel="prefetch" href="/knowledge-system/assets/js/50.e2be1fb4.js"><link rel="prefetch" href="/knowledge-system/assets/js/51.017ee426.js"><link rel="prefetch" href="/knowledge-system/assets/js/52.f2157c4c.js"><link rel="prefetch" href="/knowledge-system/assets/js/53.f5fa8cf5.js"><link rel="prefetch" href="/knowledge-system/assets/js/54.e0f1f50a.js"><link rel="prefetch" href="/knowledge-system/assets/js/55.ecba15b8.js"><link rel="prefetch" href="/knowledge-system/assets/js/56.b3f77242.js"><link rel="prefetch" href="/knowledge-system/assets/js/57.46b4a084.js"><link rel="prefetch" href="/knowledge-system/assets/js/58.a11590b8.js"><link rel="prefetch" href="/knowledge-system/assets/js/59.3ff89114.js"><link rel="prefetch" href="/knowledge-system/assets/js/6.6199361f.js"><link rel="prefetch" href="/knowledge-system/assets/js/60.7c4a655b.js"><link rel="prefetch" href="/knowledge-system/assets/js/61.d5a6f014.js"><link rel="prefetch" href="/knowledge-system/assets/js/62.51df8d81.js"><link rel="prefetch" href="/knowledge-system/assets/js/63.ce5dbd57.js"><link rel="prefetch" href="/knowledge-system/assets/js/64.20338a08.js"><link rel="prefetch" href="/knowledge-system/assets/js/65.80a2657f.js"><link rel="prefetch" href="/knowledge-system/assets/js/66.4e462475.js"><link rel="prefetch" href="/knowledge-system/assets/js/67.700be28c.js"><link rel="prefetch" href="/knowledge-system/assets/js/68.ee593e43.js"><link rel="prefetch" href="/knowledge-system/assets/js/69.fbf2ef6b.js"><link rel="prefetch" href="/knowledge-system/assets/js/7.017a2e0d.js"><link rel="prefetch" href="/knowledge-system/assets/js/70.4ae6afc2.js"><link rel="prefetch" href="/knowledge-system/assets/js/71.dda323e9.js"><link rel="prefetch" href="/knowledge-system/assets/js/72.3a9acced.js"><link rel="prefetch" href="/knowledge-system/assets/js/73.324b4464.js"><link rel="prefetch" href="/knowledge-system/assets/js/74.41bd108e.js"><link rel="prefetch" href="/knowledge-system/assets/js/75.5b93595f.js"><link rel="prefetch" href="/knowledge-system/assets/js/76.fb49fdf8.js"><link rel="prefetch" href="/knowledge-system/assets/js/77.e5673ef1.js"><link rel="prefetch" href="/knowledge-system/assets/js/78.1192f505.js"><link rel="prefetch" href="/knowledge-system/assets/js/79.b589bef4.js"><link rel="prefetch" href="/knowledge-system/assets/js/80.a0fa772e.js"><link rel="prefetch" href="/knowledge-system/assets/js/81.3133ffd2.js"><link rel="prefetch" href="/knowledge-system/assets/js/82.50396dae.js"><link rel="prefetch" href="/knowledge-system/assets/js/83.050842c6.js"><link rel="prefetch" href="/knowledge-system/assets/js/84.70d7334b.js"><link rel="prefetch" href="/knowledge-system/assets/js/85.26bc5610.js"><link rel="prefetch" href="/knowledge-system/assets/js/86.fb96dd67.js"><link rel="prefetch" href="/knowledge-system/assets/js/87.dc3738aa.js"><link rel="prefetch" href="/knowledge-system/assets/js/88.fed771de.js"><link rel="prefetch" href="/knowledge-system/assets/js/89.04f7f42a.js"><link rel="prefetch" href="/knowledge-system/assets/js/90.282cd237.js"><link rel="prefetch" href="/knowledge-system/assets/js/91.1b59293d.js"><link rel="prefetch" href="/knowledge-system/assets/js/92.4f084893.js"><link rel="prefetch" href="/knowledge-system/assets/js/93.e571b985.js"><link rel="prefetch" href="/knowledge-system/assets/js/94.146efa5e.js"><link rel="prefetch" href="/knowledge-system/assets/js/95.f373d964.js"><link rel="prefetch" href="/knowledge-system/assets/js/96.8904c2ea.js"><link rel="prefetch" href="/knowledge-system/assets/js/97.f0b4bc6a.js"><link rel="prefetch" href="/knowledge-system/assets/js/98.a7b327f6.js"><link rel="prefetch" href="/knowledge-system/assets/js/99.93df4d6b.js"><link rel="prefetch" href="/knowledge-system/assets/js/vendors~docsearch.1d5e679f.js">
    <link rel="stylesheet" href="/knowledge-system/assets/css/0.styles.1f67f494.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/knowledge-system/" class="home-link router-link-active"></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/knowledge-system/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/knowledge-system/CSS/" class="nav-link">
  CSS
</a></div><div class="nav-item"><a href="/knowledge-system/JS/" class="nav-link">
  JS
</a></div><div class="nav-item"><a href="/knowledge-system/React/" class="nav-link">
  React
</a></div><div class="nav-item"><a href="/knowledge-system/Vue/" class="nav-link">
  Vue
</a></div><div class="nav-item"><a href="/knowledge-system/web3d/" class="nav-link">
  web3d
</a></div><div class="nav-item"><a href="/knowledge-system/AI/" class="nav-link router-link-active">
  AI
</a></div><div class="nav-item"><a href="/knowledge-system/miniprogram/" class="nav-link">
  小程序
</a></div><div class="nav-item"><a href="/knowledge-system/hybrid/" class="nav-link">
  hybrid
</a></div><div class="nav-item"><a href="/knowledge-system/engineering/" class="nav-link">
  工程化
</a></div><div class="nav-item"><a href="/knowledge-system/broswer/work/" class="nav-link">
  其他
</a></div><div class="nav-item"><a href="/knowledge-system/scene/lottieUsage/" class="nav-link">
  沉淀
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/knowledge-system/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/knowledge-system/CSS/" class="nav-link">
  CSS
</a></div><div class="nav-item"><a href="/knowledge-system/JS/" class="nav-link">
  JS
</a></div><div class="nav-item"><a href="/knowledge-system/React/" class="nav-link">
  React
</a></div><div class="nav-item"><a href="/knowledge-system/Vue/" class="nav-link">
  Vue
</a></div><div class="nav-item"><a href="/knowledge-system/web3d/" class="nav-link">
  web3d
</a></div><div class="nav-item"><a href="/knowledge-system/AI/" class="nav-link router-link-active">
  AI
</a></div><div class="nav-item"><a href="/knowledge-system/miniprogram/" class="nav-link">
  小程序
</a></div><div class="nav-item"><a href="/knowledge-system/hybrid/" class="nav-link">
  hybrid
</a></div><div class="nav-item"><a href="/knowledge-system/engineering/" class="nav-link">
  工程化
</a></div><div class="nav-item"><a href="/knowledge-system/broswer/work/" class="nav-link">
  其他
</a></div><div class="nav-item"><a href="/knowledge-system/scene/lottieUsage/" class="nav-link">
  沉淀
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/knowledge-system/AI/" aria-current="page" class="sidebar-link">分享</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="mui"><a href="#mui" class="header-anchor">#</a> MUI</h1> <h2 id="背景-讲清楚为什么要做-5分钟"><a href="#背景-讲清楚为什么要做-5分钟" class="header-anchor">#</a> 背景 -- 讲清楚为什么要做 （5分钟）</h2> <h3 id="总体概括背景"><a href="#总体概括背景" class="header-anchor">#</a> 总体概括背景</h3> <ul><li>要点1 AI 是趋势。可以用一个例子，比如常规搜索“xxx”搜不出想要的东西，有了AI对语言的理解就可以搜到</li> <li>要点2 AI问答流式数据，前端没办法直接渲染，需要中间层来封装（具体来说就涉及到“##技术细节”这个小节要讲的东西了，底层模型回答的都是文本，且是流式的，每一帧数据不重复非完整，ai团队会把文本转换为json，到了我们团队的后端，会进一步处理成结构化的json，前端sdk把数据再进行处理，最后给业务层前端消费的数据就和写一个react组件没区别。）</li></ul> <h3 id="简单的架构图"><a href="#简单的架构图" class="header-anchor">#</a> 简单的架构图</h3> <p>自闭环的研发使用流程</p> <ul><li>天梭后台：做一些配置，生成场景配置（本质就是个JSON，下面称为CONFIG JSON）</li> <li>前台：消费CONFIG JSON，结合各种前端 sdk 和后端接口把ai回答的内容以更友好的方式展示给用户（具体来说就涉及到“##技术细节”这个小节要讲的东西了，底层模型回答的都是文本，且是流式的，每一帧数据不重复非完整，【ai团队】会把文本转换为json，到了【中间层后端】，会进一步处理成结构化的json，【中间层前端】的sdk把数据再进行处理，最后给【业务层前端】消费的数据就和写一个react组件没区别。）</li></ul> <h2 id="demo演示-通过演示业务方-上层开发-怎么用来讲清楚是什么-2分钟"><a href="#demo演示-通过演示业务方-上层开发-怎么用来讲清楚是什么-2分钟" class="header-anchor">#</a> demo演示 -- 通过演示业务方（上层开发）怎么用来讲清楚是什么 （2分钟）</h2> <ol><li>先演示后台配置</li> <li>演示前台用户看到的效果</li> <li>后台更改一个配置，前台生效，能表现出前后台是真实联动的</li></ol> <h4 id="补充说明后台的功能-代码量太大了-以下是另一个ai读取项目代码后输出的内容"><a href="#补充说明后台的功能-代码量太大了-以下是另一个ai读取项目代码后输出的内容" class="header-anchor">#</a> 补充说明后台的功能(代码量太大了，以下是另一个ai读取项目代码后输出的内容)</h4> <p>🎯 平台概述
MUI Platform 是一个基于 React + TypeScript + Ice.js 构建的 AI场景可视化搭建平台，专门用于快速构建和配置AI驱动的业务场景。该平台采用组件化、可视化的方式，让用户能够通过拖拽和配置的方式快速搭建复杂的AI应用场景。</p> <ol><li>📦 研发资产管理 (Assets)
1.1 组件市场 (/assets/components)
功能: 管理可复用的UI组件
特性:
组件版本管理
组件预览和配置
组件依赖关系管理
支持静态配置和动态配置
1.2 AI服务市场 (/assets/service-ai)
功能: 管理AI服务资源
特性:
AI服务注册和配置
AI Chunk管理 (AI能力单元)
服务状态监控
参数映射配置
1.3 SPI服务市场 (/assets/service-spi)
功能: 管理SPI扩展服务
特性:
SPI服务注册
自定义Schema配置
服务调用方式配置 (Bean/HSF/HTTP)
执行因子配置</li> <li>🤖 AI场景方案 (Scenes)
2.1 场景列表 (/scenes/list)
功能: 管理所有AI场景
特性:
场景创建、编辑、删除
场景状态管理 (草稿/上线/下线/废弃)
场景灰度发布
场景版本管理
2.2 场景搭建器 (/scenes/build)
功能: 可视化场景搭建
界面布局:
Apply to index.tsx
┌─────────────────┬─────────────────┬─────────────────┐
│   组件资源库     │    楼层列表      │   组件配置面板   │
│   (左侧)        │    (中间)       │    (右侧)       │
│                 │                 │                 │
│ • 组件模板列表   │ • 已选组件实例   │ • 静态配置      │
│ • 版本选择      │ • 拖拽排序      │ • 动态配置      │
│ • 添加/删除     │ • 选择编辑      │ • AI Chunk映射  │
└─────────────────┴─────────────────┴─────────────────┘
2.3 场景配置 (/scenes/edit)
功能: 场景详细配置
配置项:
通用配置 (场景基本信息)
接入方式配置 (iframe/gateway)
限流配置 (频率限制、并行数)
高级扩展 (SPI服务配置)
灰度配置 (发布策略)
🚀 平台输出
最终产物
场景配置JSON: 包含完整的UI配置、组件配置、AI映射关系
组件依赖关系: 场景使用的组件版本列表
API配置: 场景的接入方式、限流规则、扩展配置
发布配置: 灰度策略、上线配置
部署方式
iframe嵌入: 通过iframe方式嵌入到其他系统
API接入: 通过API方式调用场景能力
网关路由: 通过网关统一路由到场景
💡 平台价值
降低开发门槛: 非技术人员也能快速搭建AI场景
提高开发效率: 组件化开发，复用现有资源
统一技术标准: 标准化的场景配置和部署方式
灵活扩展: 支持SPI扩展，满足个性化需求
可视化运维: 场景状态监控和灰度发布</li></ol> <h4 id="补充前台业务前端使用时的代码"><a href="#补充前台业务前端使用时的代码" class="header-anchor">#</a> 补充前台业务前端使用时的代码</h4> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> definePageConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;ice&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useState<span class="token punctuation">,</span> useEffect<span class="token punctuation">,</span> useRef<span class="token punctuation">,</span> useCallback <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Stream<span class="token punctuation">,</span> getMsgDetail <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@ai/mui-data-loader&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> MessageOfServer <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@ai/mui-data-loader/esm/typing&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> MarkdownModule <span class="token keyword">from</span> <span class="token string">&quot;@/components/common/MarkdownModule&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> handlePrice <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/utils/common&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&quot;./index.less&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// 简化的商品卡片组件</span>
<span class="token keyword">const</span> <span class="token function-variable function">SimpleProductCard</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> offer <span class="token punctuation">}</span><span class="token operator">:</span> <span class="token punctuation">{</span> offer<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 处理价格显示</span>
  <span class="token keyword">const</span> <span class="token function-variable function">renderPrice</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>offer<span class="token punctuation">.</span>price<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> integer<span class="token punctuation">,</span> decimal <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">handlePrice</span><span class="token punctuation">(</span>offer<span class="token punctuation">.</span>price<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>productPrice<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>productPriceUnit<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">￥</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>productPriceInteger<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>integer<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token punctuation">{</span>decimal <span class="token operator">&amp;&amp;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>productPriceDecimal<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>decimal<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// 处理服务信息列表</span>
  <span class="token keyword">const</span> serviceList <span class="token operator">=</span> <span class="token punctuation">[</span>offer<span class="token punctuation">.</span>goodRate<span class="token punctuation">,</span> offer<span class="token punctuation">.</span>shopRepurchaseRate<span class="token punctuation">,</span> offer<span class="token punctuation">.</span>publishMonth<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>Boolean<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>productCard<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>productImageWrapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>offer<span class="token punctuation">.</span>offerPicUrl<span class="token punctuation">}</span></span> <span class="token attr-name">alt</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>offer<span class="token punctuation">.</span>title<span class="token punctuation">}</span></span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>productImage<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>productInfoWrapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>productTitleWrapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>productTitleText<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>offer<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>productCpvWrapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token punctuation">{</span>serviceList<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>text<span class="token punctuation">,</span> index<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>productCpvItem<span class="token punctuation">&quot;</span></span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>index<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
              </span><span class="token punctuation">{</span>index <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>productCpvDivider<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">}</span><span class="token plain-text">
              </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>productCpvText<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>text<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
          <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>productPriceWrapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token punctuation">{</span><span class="token function">renderPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>productSale<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>offer<span class="token punctuation">.</span>salesVolume<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 简化的商品列表组件</span>
<span class="token keyword">const</span> <span class="token function-variable function">SimpleProductList</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> offers <span class="token punctuation">}</span><span class="token operator">:</span> <span class="token punctuation">{</span> offers<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>productList<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token punctuation">{</span>offers<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>offer<span class="token punctuation">,</span> index<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">SimpleProductCard</span></span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>index<span class="token punctuation">}</span></span> <span class="token attr-name">offer</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>offer<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 简化的步骤组件</span>
<span class="token keyword">const</span> <span class="token function-variable function">SimpleSteps</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> steps <span class="token punctuation">}</span><span class="token operator">:</span> <span class="token punctuation">{</span> steps<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stepsContainer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token punctuation">{</span>steps<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>step<span class="token punctuation">,</span> index<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>index<span class="token punctuation">}</span></span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stepItem<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stepNumber<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stepContent<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stepTitle<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stepTitleText<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>step<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stepDescription<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stepDescriptionItem<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
              </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">MarkdownModule</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>step<span class="token punctuation">.</span>content <span class="token operator">||</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">MarkdownModule</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 简化的分类标签组件</span>
<span class="token keyword">const</span> <span class="token function-variable function">SimpleCategoryTabs</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> categories <span class="token punctuation">}</span><span class="token operator">:</span> <span class="token punctuation">{</span> categories<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>categoryTabs<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token punctuation">{</span>categories<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>category<span class="token punctuation">,</span> index<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>category<span class="token punctuation">.</span>itemId<span class="token punctuation">}</span></span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">categoryTab </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>index <span class="token operator">===</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token string">&quot;active&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token punctuation">{</span>category<span class="token punctuation">.</span>itemName <span class="token operator">||</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">类目 </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>index <span class="token operator">+</span> <span class="token number">1</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 引导语组件</span>
<span class="token keyword">const</span> <span class="token function-variable function">GuideContent</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> staticConfig <span class="token punctuation">}</span><span class="token operator">:</span> <span class="token punctuation">{</span> staticConfig<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>staticConfig <span class="token operator">||</span> staticConfig<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>guideSection<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span>staticConfig<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> index<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>index<span class="token punctuation">}</span></span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>guideItem<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>icon <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>guideIcon<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
              </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>icon<span class="token punctuation">}</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>引导图标<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
          <span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>guideContent<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>text <span class="token operator">&amp;&amp;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>guideText<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>text<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">}</span><span class="token plain-text">
            </span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>button<span class="token operator">?.</span>text <span class="token operator">&amp;&amp;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>guideButton<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>button<span class="token punctuation">.</span>text<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">}</span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">IndexPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>status<span class="token punctuation">,</span> setStatus<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token generic-function"><span class="token function">useState</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token string">&quot;wait&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;process&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;finish&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;error&quot;</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&quot;wait&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>itemList<span class="token punctuation">,</span> setItemList<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token generic-function"><span class="token function">useState</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>stepItems<span class="token punctuation">,</span> setStepItems<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token generic-function"><span class="token function">useState</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>staticConfig<span class="token punctuation">,</span> setStaticConfig<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token generic-function"><span class="token function">useState</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token punctuation">{</span> current<span class="token operator">:</span> stream <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span>
    <span class="token keyword">new</span> <span class="token class-name">Stream</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      sceneCode<span class="token operator">:</span> <span class="token string">&quot;SC_1f1445b21&quot;</span><span class="token punctuation">,</span>
      bizType<span class="token operator">:</span> <span class="token string">&quot;plugin_search_ai_find&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">init</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> data<span class="token punctuation">,</span> error<span class="token punctuation">,</span> traceId <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> stream<span class="token punctuation">.</span><span class="token function">requestAccessToken</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      bizParam<span class="token operator">:</span> <span class="token punctuation">{</span>
        query<span class="token operator">:</span> <span class="token string">&quot;唐风头饰&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>data<span class="token operator">?.</span>accessToken<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
    stream
      <span class="token punctuation">.</span><span class="token function">createStream</span><span class="token punctuation">(</span>
        <span class="token punctuation">{</span>
          bizParams<span class="token operator">:</span> <span class="token punctuation">{</span>
            query<span class="token operator">:</span> <span class="token string">&quot;唐风头饰&quot;</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          accessToken<span class="token operator">:</span> data<span class="token punctuation">.</span>accessToken<span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">onLayout</span><span class="token punctuation">(</span><span class="token punctuation">(</span>layout<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token string">&quot;process&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setStaticConfig</span><span class="token punctuation">(</span>layout<span class="token operator">?.</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">?.</span>staticConfig<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">onUpdate</span><span class="token punctuation">(</span><span class="token punctuation">(</span>compsInfo<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">setItemList</span><span class="token punctuation">(</span>compsInfo<span class="token operator">?.</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">?.</span>streamData<span class="token operator">?.</span>multi_offer_list<span class="token operator">?.</span>data <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setStepItems</span><span class="token punctuation">(</span>compsInfo<span class="token operator">?.</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">?.</span>streamData<span class="token operator">?.</span>common_cot<span class="token operator">?.</span>cotStepList <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">onFinish</span><span class="token punctuation">(</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token string">&quot;finish&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">onFail</span><span class="token punctuation">(</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token string">&quot;error&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// 初始化</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 获取第一个分类的商品列表</span>
  <span class="token keyword">const</span> firstCategoryOffers <span class="token operator">=</span> itemList<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">?.</span>subItemList <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>test-page<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span><span class="token comment">/* 固定高度的内容容器 */</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>contentContainer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token punctuation">{</span><span class="token comment">/* 引导语标题 */</span><span class="token punctuation">}</span><span class="token plain-text">
        </span><span class="token punctuation">{</span>status <span class="token operator">!==</span> <span class="token string">&quot;wait&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>guideTitle<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
              </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>guideTitleContent<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>guideTitleIcon<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>staticConfig<span class="token operator">?.</span>icon<span class="token punctuation">}</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>引导图标<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>guideTitleText<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                  </span><span class="token punctuation">{</span>status <span class="token operator">===</span> <span class="token string">&quot;process&quot;</span> <span class="token operator">?</span> staticConfig<span class="token operator">?.</span>text <span class="token operator">:</span> staticConfig<span class="token operator">?.</span>button<span class="token operator">?.</span>text<span class="token punctuation">}</span><span class="token plain-text">（</span><span class="token punctuation">{</span>status<span class="token punctuation">}</span><span class="token plain-text">）
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
              </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">

            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>results<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
              </span><span class="token punctuation">{</span><span class="token comment">/* 步骤展示 - 在 process 和 finish 状态都显示 */</span><span class="token punctuation">}</span><span class="token plain-text">
              </span><span class="token punctuation">{</span>stepItems<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stepsSection<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">分析步骤</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">SimpleSteps</span></span> <span class="token attr-name">steps</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>stepItems<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
              <span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">

              </span><span class="token punctuation">{</span><span class="token comment">/* 完成状态下的分类和商品展示 */</span><span class="token punctuation">}</span><span class="token plain-text">
              </span><span class="token punctuation">{</span>status <span class="token operator">===</span> <span class="token string">&quot;finish&quot;</span> <span class="token operator">&amp;&amp;</span> itemList<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                  </span><span class="token punctuation">{</span><span class="token comment">/* 分类标签 - 只显示一行 */</span><span class="token punctuation">}</span><span class="token plain-text">
                  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>categoriesSection<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">AI找商机结果</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">SimpleCategoryTabs</span></span> <span class="token attr-name">categories</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>itemList<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
                  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">

                  </span><span class="token punctuation">{</span><span class="token comment">/* 商品列表 - 只显示第一个分类的商品 */</span><span class="token punctuation">}</span><span class="token plain-text">
                  </span><span class="token punctuation">{</span>firstCategoryOffers<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>offersSection<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">商品列表 (</span><span class="token punctuation">{</span>firstCategoryOffers<span class="token punctuation">.</span>length<span class="token punctuation">}</span><span class="token plain-text"> 个)</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">SimpleProductList</span></span> <span class="token attr-name">offers</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>firstCategoryOffers<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                  <span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
              <span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">

        </span><span class="token punctuation">{</span>status <span class="token operator">===</span> <span class="token string">&quot;finish&quot;</span> <span class="token operator">&amp;&amp;</span> itemList<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>noResults<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">未找到相关商品</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">

        </span><span class="token punctuation">{</span>status <span class="token operator">===</span> <span class="token string">&quot;error&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>errorState<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">处理失败，请重试</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>init<span class="token punctuation">}</span></span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>retryButton<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
              重试
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> pageConfig <span class="token operator">=</span> <span class="token function">definePageConfig</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
  spm<span class="token operator">:</span> <span class="token punctuation">{</span>
    spmB<span class="token operator">:</span> <span class="token string">&quot;ai-find-simplified&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><h2 id="技术细节-通过讲解底层设计思想-把怎么做说明白-聚焦于我自己负责的部分讲一两个亮点-10分钟"><a href="#技术细节-通过讲解底层设计思想-把怎么做说明白-聚焦于我自己负责的部分讲一两个亮点-10分钟" class="header-anchor">#</a> 技术细节 -- 通过讲解底层设计思想 把怎么做说明白，聚焦于我自己负责的部分讲一两个亮点 （10分钟）</h2> <p>（这一part最重要，里面会涉及一些设计思想中的概念，我只能零散的列出要点，不知道如何组织语言）</p> <ul><li>要点1：通过接口返回的数据结构来讲解设计思想：第一帧是布局、中间帧是流式数据、最后一帧是正常流完的标识</li></ul> <h4 id="补充接口返回的数据结构"><a href="#补充接口返回的数据结构" class="header-anchor">#</a> 补充接口返回的数据结构</h4> <p>第一帧</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
         
          <span class="token property">&quot;contents&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
              <span class="token property">&quot;content&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;uiSchema&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                  <span class="token property">&quot;componentList&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token punctuation">{</span>
                      <span class="token property">&quot;componentInstanceId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;aiFindHeader&quot;</span><span class="token punctuation">,</span>
                      <span class="token property">&quot;staticConfig&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{//省略}&quot;</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{</span>
                      <span class="token property">&quot;componentInstanceId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;aiFindMain&quot;</span><span class="token punctuation">,</span>
                      <span class="token property">&quot;staticConfig&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{//省略}&quot;</span>
                    <span class="token punctuation">}</span>
                  <span class="token punctuation">]</span>
                <span class="token punctuation">}</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token property">&quot;contentType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ui_framework&quot;</span><span class="token punctuation">,</span>
              <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;d1a95b1ad64847cf9babc78c30b66a7f0&quot;</span><span class="token punctuation">,</span>
              <span class="token property">&quot;role&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assistant&quot;</span><span class="token punctuation">,</span>
              <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;finished&quot;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token property">&quot;incremental&quot;</span><span class="token operator">:</span> <span class="token string">&quot;false&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;msgId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;d1a95b1ad64847cf9babc78c30b66a7f&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;msgStatus&quot;</span><span class="token operator">:</span> <span class="token string">&quot;generating&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;parentMsgId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;93e584cb90704c25b364acbdea46a562&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;sessionId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2ef9b9fe5735419fad3f370ba7f60ed2&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;traceId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2150408917442741840224041e7ea6&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>中间帧</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
       
          <span class="token property">&quot;contents&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
              <span class="token property">&quot;content&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;propCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;result&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;componentInstanceId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;aiFind&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;summary&quot;</span><span class="token operator">:</span> <span class="token string">&quot;summary is here&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                  <span class="token punctuation">{</span>
                    <span class="token property">&quot;itemId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;001001&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;itemTitle&quot;</span><span class="token operator">:</span> <span class="token string">&quot;天然水晶多宝手串&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;content&quot;</span><span class="token operator">:</span> <span class="token string">&quot;淘宝用户搜索热度 162万+。&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;subItemList&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                      <span class="token punctuation">{</span>
                        <span class="token property">&quot;offerId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;001001001&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;手串&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10.0&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;offerPicUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://cbu01.alicdn.com/img/ibank/O1CN01qlkvGc2NXh0PePZad_!!2212887759973-0-cib.jpg_460x460q100.jpg&quot;</span>
                      <span class="token punctuation">}</span><span class="token punctuation">,</span>
                      <span class="token punctuation">{</span>
                        <span class="token property">&quot;offerId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;001001002&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;菩提手串&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;16.32&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;offerPicUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://cbu01.alicdn.com/img/ibank/O1CN01ABKCnV294T7fZL4hB_!!2200777578014-0-cib.jpg_460x460q100.jpg&quot;</span>
                      <span class="token punctuation">}</span><span class="token punctuation">,</span>
                      <span class="token punctuation">{</span>
                        <span class="token property">&quot;offerId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;001001003&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;星月菩提&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;11.32&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;offerPicUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://cbu01.alicdn.com/img/ibank/O1CN01J1TRXC1mZOaP7UeGp_!!2216432774968-0-cib.jpg_460x460q100.jpg&quot;</span>
                      <span class="token punctuation">}</span><span class="token punctuation">,</span>
                      <span class="token punctuation">{</span>
                        <span class="token property">&quot;offerId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;001001004&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;五彩绳&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;20.22&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;offerPicUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://cbu01.alicdn.com/img/ibank/O1CN01Fu9zTy1DS3neTyMZa_!!2217262730214-0-cib.jpg_460x460q100.jpg&quot;</span>
                      <span class="token punctuation">}</span>
                    <span class="token punctuation">]</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;extend&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
                  <span class="token punctuation">}</span><span class="token punctuation">,</span>
                  <span class="token punctuation">{</span>
                    <span class="token property">&quot;itemId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;001002&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;itemTitle&quot;</span><span class="token operator">:</span> <span class="token string">&quot;轻奢招财貔貅水晶手链&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;content&quot;</span><span class="token operator">:</span> <span class="token string">&quot;抖音用户搜索热度 162万+&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;subItemList&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                      <span class="token punctuation">{</span>
                        <span class="token property">&quot;offerId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;001002001&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;五彩绳&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10.22&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;offerPicUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://cbu01.alicdn.com/img/ibank/O1CN01Fu9zTy1DS3neTyMZa_!!2217262730214-0-cib.jpg_460x460q100.jpg&quot;</span>
                      <span class="token punctuation">}</span><span class="token punctuation">,</span>
                      <span class="token punctuation">{</span>
                        <span class="token property">&quot;offerId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;001002002&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;红绳手链&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;16.32&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;offerPicUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://cbu01.alicdn.com/img/ibank/O1CN01J1TRXC1mZOaP7UeGp_!!2216432774968-0-cib.jpg_460x460q100.jpg&quot;</span>
                      <span class="token punctuation">}</span><span class="token punctuation">,</span>
                      <span class="token punctuation">{</span>
                        <span class="token property">&quot;offerId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;001002003&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;招财貔貅手链&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;11.32&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;offerPicUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://cbu01.alicdn.com/img/ibank/O1CN01ABKCnV294T7fZL4hB_!!2200777578014-0-cib.jpg_460x460q100.jpg&quot;</span>
                      <span class="token punctuation">}</span><span class="token punctuation">,</span>
                      <span class="token punctuation">{</span>
                        <span class="token property">&quot;offerId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;001002004&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;招财手链&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;20.22&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;offerPicUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://cbu01.alicdn.com/img/ibank/O1CN01qlkvGc2NXh0PePZad_!!2212887759973-0-cib.jpg_460x460q100.jpg&quot;</span>
                      <span class="token punctuation">}</span>
                    <span class="token punctuation">]</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;extend&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
                  <span class="token punctuation">}</span><span class="token punctuation">,</span>
                  <span class="token punctuation">{</span>
                    <span class="token property">&quot;itemId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;001003&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;itemTitle&quot;</span><span class="token operator">:</span> <span class="token string">&quot;红绳五彩绳手链&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;content&quot;</span><span class="token operator">:</span> <span class="token string">&quot;淘宝用户搜索热度 162万+。&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;subItemList&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                      <span class="token punctuation">{</span>
                        <span class="token property">&quot;offerId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;001003001&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;五彩绳&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;110.22&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;offerPicUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://cbu01.alicdn.com/img/ibank/10712621187_1644056798.jpg_460x460q100.jpg&quot;</span>
                      <span class="token punctuation">}</span><span class="token punctuation">,</span>
                      <span class="token punctuation">{</span>
                        <span class="token property">&quot;offerId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;001003002&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;红绳手链&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;146.32&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;offerPicUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://cbu01.alicdn.com/img/ibank/O1CN01wNTOtc1acLaQvIW8N_!!3314453350-0-cib.jpg_460x460q100.jpg&quot;</span>
                      <span class="token punctuation">}</span><span class="token punctuation">,</span>
                      <span class="token punctuation">{</span>
                        <span class="token property">&quot;offerId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;001003003&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;招财貔貅手链&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;121.32&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;offerPicUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://cbu01.alicdn.com/img/ibank/O1CN017MBg0s1Z3iIb0xtlM_!!2218448913139-0-cib.jpg_460x460q100.jpg&quot;</span>
                      <span class="token punctuation">}</span><span class="token punctuation">,</span>
                      <span class="token punctuation">{</span>
                        <span class="token property">&quot;offerId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;001003004&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;招财手链&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;120.22&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;offerPicUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://cbu01.alicdn.com/img/ibank/O1CN015RfUJD2N0FpjYoUcD_!!4067869900-0-cib.jpg_460x460q100.jpg&quot;</span>
                      <span class="token punctuation">}</span>
                    <span class="token punctuation">]</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;extend&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
                  <span class="token punctuation">}</span>
                <span class="token punctuation">]</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token property">&quot;contentType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;component_chunk&quot;</span><span class="token punctuation">,</span>
              <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;77fb16a8732e4fad847d58b379c7d74e_1&quot;</span><span class="token punctuation">,</span>
              <span class="token property">&quot;role&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assistant&quot;</span><span class="token punctuation">,</span>
              <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;finished&quot;</span><span class="token punctuation">,</span>
              <span class="token property">&quot;errorCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
              <span class="token property">&quot;errorInfo&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token property">&quot;incremental&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
          <span class="token property">&quot;msgId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;77fb16a8732e4fad847d58b379c7d74e&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;msgStatus&quot;</span><span class="token operator">:</span> <span class="token string">&quot;generating&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;parentMsgId&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
          <span class="token property">&quot;sessionId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;c291a9deeee84d60882d8fd6701fcf17&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;stopReason&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;traceId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0bc3b2dc17431716545742934ec09a&quot;</span>
        <span class="token punctuation">}</span>
</code></pre></div><p>结束帧</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
          <span class="token property">&quot;contentType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;component&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;contents&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token property">&quot;incremental&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
          <span class="token property">&quot;msgId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;77fb16a8732e4fad847d58b379c7d74e&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;msgStatus&quot;</span><span class="token operator">:</span> <span class="token string">&quot;finished&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;parentMsgId&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
          <span class="token property">&quot;sessionId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;c291a9deeee84d60882d8fd6701fcf17&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;stopReason&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;traceId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0bc3b2dc17431716545742934ec09a&quot;</span>
        <span class="token punctuation">}</span>
</code></pre></div><ul><li>要点2：从AI到UI的映射。其中有个chunk的概念。朴实来讲，AI chunk是AI返回的数据中某个字段对应的值。UI chunk是业务前端用于渲染时的最小单元（暂且理解成ui组件中的小组件，【前端sdk】会组装出一个用于组件级别渲染的数据）</li> <li>要点3：增量和全量的概念。这个概念是对于ui chunk来说的，现在都是全量的。也就是说后端给的某一帧的数据都是固定一个chunk的完整的数据，比如
【中间后端】输出的数据</li></ul> <div class="language-json extra-class"><pre class="language-json"><code><span class="token comment">//中间的n帧</span>
<span class="token punctuation">{</span>
    <span class="token property">&quot;propCode&quot;</span><span class="token operator">:</span><span class="token string">&quot;common_cot&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span>
        <span class="token property">&quot;title&quot;</span><span class="token operator">:</span><span class="token string">&quot;123&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token comment">//中间的n+1</span>
<span class="token punctuation">{</span>
    <span class="token property">&quot;propCode&quot;</span><span class="token operator">:</span><span class="token string">&quot;common_cot&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span>
        <span class="token property">&quot;title&quot;</span><span class="token operator">:</span><span class="token string">&quot;123&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
        <span class="token property">&quot;title&quot;</span><span class="token operator">:</span><span class="token string">&quot;456&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>【中间前端】给【业务组件】的数据。直接用后端的数据覆盖，而不需要拼接</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> streamData <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;common_cot&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span>
        <span class="token string-property property">&quot;title&quot;</span><span class="token operator">:</span><span class="token string">&quot;123&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
        <span class="token string-property property">&quot;title&quot;</span><span class="token operator">:</span><span class="token string">&quot;456&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>

<span class="token punctuation">}</span>
</code></pre></div><ul><li>要点4： 【前端sdk】的先进性，会有断点续流的能力，主要是体现在对外的replayStream，当页面刷新时再次回来可以继续生成，像暂停歌曲继续播放一样。replayStream还有显示完整历史的功能，并且是继续流还是完整历史都不需要业务层感知，无脑调这个api就行。假设是一个历史列表，就可以无脑调用这个方法。</li> <li>要点5：【前端sdk】的完备性，对错误处理分层很清晰，方便排查</li></ul> <h2 id="展望-2分钟"><a href="#展望-2分钟" class="header-anchor">#</a> 展望 （2分钟）</h2> <p>说一下愿景，更凸显这套东西的价值，所以要做</p> <ul><li>要点1 模型驱动不同的UI原子组件组合</li> <li>要点2 通过简单的 AI 对话即可搭建功能原型</li> <li>要点3 确保 AI 驱动的 UI 内容准确，且符合生产环境的严苛要求。</li></ul> <p>以上是一个技术分享的大纲，请帮我补充内容把要点丝滑的串联起来（我主要是不知道怎么组织语言），大纲结构不调整（二级标题、三级标题）
出现“（）”的地方是为了让你理解而做的解释说明，可能会比较细节，当填充内容或者画图的时候不需要体现细节，但让你了解细节应该对你画图有帮助
这个技术体系涉及很多方用&quot;【】&quot;标识了。其中我们团队前后端是【中间层后端】【中间层前端】或者【前端sdk】，我就是中间层前端sdk的主要开发者
【前端sdk】的逻辑在上面讨论过了，就是StreamBase和Stream类。如果不清楚，我重新上传这两个文件
技术细节部分我只罗列了要点，但请你帮我把要点重新编排，能让我流畅的降下来，并且分小节（三级标题）
如果以上这些你还没有完全get到我在做一件怎样的事情，请向我提问</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/knowledge-system/assets/js/app.744a76bb.js" defer></script><script src="/knowledge-system/assets/js/2.2562ca4f.js" defer></script><script src="/knowledge-system/assets/js/1.8b017304.js" defer></script><script src="/knowledge-system/assets/js/49.5c89a04e.js" defer></script>
  </body>
</html>
