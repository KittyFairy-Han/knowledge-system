<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>DOM 对象</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="image/logo.png">
    <meta name="description" content="">
    
    <link rel="preload" href="/knowledge-system/assets/css/0.styles.6556c1a6.css" as="style"><link rel="preload" href="/knowledge-system/assets/js/app.992cd1d6.js" as="script"><link rel="preload" href="/knowledge-system/assets/js/2.daeff249.js" as="script"><link rel="preload" href="/knowledge-system/assets/js/13.8025a5c3.js" as="script"><link rel="prefetch" href="/knowledge-system/assets/js/10.cf606cd5.js"><link rel="prefetch" href="/knowledge-system/assets/js/11.bd04773e.js"><link rel="prefetch" href="/knowledge-system/assets/js/12.e76640dd.js"><link rel="prefetch" href="/knowledge-system/assets/js/14.41a03972.js"><link rel="prefetch" href="/knowledge-system/assets/js/15.451b72ca.js"><link rel="prefetch" href="/knowledge-system/assets/js/16.afcc6b92.js"><link rel="prefetch" href="/knowledge-system/assets/js/17.570aea7d.js"><link rel="prefetch" href="/knowledge-system/assets/js/18.3eeee3a1.js"><link rel="prefetch" href="/knowledge-system/assets/js/19.3262fd5e.js"><link rel="prefetch" href="/knowledge-system/assets/js/20.bfbf801e.js"><link rel="prefetch" href="/knowledge-system/assets/js/21.b198ff9d.js"><link rel="prefetch" href="/knowledge-system/assets/js/22.5dcec9ce.js"><link rel="prefetch" href="/knowledge-system/assets/js/23.b9503351.js"><link rel="prefetch" href="/knowledge-system/assets/js/24.9ce51a64.js"><link rel="prefetch" href="/knowledge-system/assets/js/25.63961d2e.js"><link rel="prefetch" href="/knowledge-system/assets/js/26.3ceba3b9.js"><link rel="prefetch" href="/knowledge-system/assets/js/27.397f8608.js"><link rel="prefetch" href="/knowledge-system/assets/js/28.23be7063.js"><link rel="prefetch" href="/knowledge-system/assets/js/29.ce789d69.js"><link rel="prefetch" href="/knowledge-system/assets/js/3.98392fa2.js"><link rel="prefetch" href="/knowledge-system/assets/js/30.4ce57e62.js"><link rel="prefetch" href="/knowledge-system/assets/js/31.c5ea537b.js"><link rel="prefetch" href="/knowledge-system/assets/js/32.15121fcf.js"><link rel="prefetch" href="/knowledge-system/assets/js/33.e932d378.js"><link rel="prefetch" href="/knowledge-system/assets/js/34.72febd72.js"><link rel="prefetch" href="/knowledge-system/assets/js/35.e6459bff.js"><link rel="prefetch" href="/knowledge-system/assets/js/36.4772664a.js"><link rel="prefetch" href="/knowledge-system/assets/js/37.a44ec391.js"><link rel="prefetch" href="/knowledge-system/assets/js/38.6e2d4846.js"><link rel="prefetch" href="/knowledge-system/assets/js/39.65818a10.js"><link rel="prefetch" href="/knowledge-system/assets/js/4.61a1ff4b.js"><link rel="prefetch" href="/knowledge-system/assets/js/40.c2890db2.js"><link rel="prefetch" href="/knowledge-system/assets/js/41.b7499c7a.js"><link rel="prefetch" href="/knowledge-system/assets/js/42.a76d9ccf.js"><link rel="prefetch" href="/knowledge-system/assets/js/43.8e3f0539.js"><link rel="prefetch" href="/knowledge-system/assets/js/44.377bc93f.js"><link rel="prefetch" href="/knowledge-system/assets/js/45.7813cc79.js"><link rel="prefetch" href="/knowledge-system/assets/js/46.4e3a4bbb.js"><link rel="prefetch" href="/knowledge-system/assets/js/47.bd4eea12.js"><link rel="prefetch" href="/knowledge-system/assets/js/48.57b1bd8d.js"><link rel="prefetch" href="/knowledge-system/assets/js/49.f1c5634d.js"><link rel="prefetch" href="/knowledge-system/assets/js/5.665f58f0.js"><link rel="prefetch" href="/knowledge-system/assets/js/50.acce46b2.js"><link rel="prefetch" href="/knowledge-system/assets/js/51.bde7248d.js"><link rel="prefetch" href="/knowledge-system/assets/js/52.f17bc318.js"><link rel="prefetch" href="/knowledge-system/assets/js/53.dd01aabf.js"><link rel="prefetch" href="/knowledge-system/assets/js/54.906fb203.js"><link rel="prefetch" href="/knowledge-system/assets/js/55.0173e683.js"><link rel="prefetch" href="/knowledge-system/assets/js/56.43b4cea8.js"><link rel="prefetch" href="/knowledge-system/assets/js/57.7aa05105.js"><link rel="prefetch" href="/knowledge-system/assets/js/58.f8c5e97a.js"><link rel="prefetch" href="/knowledge-system/assets/js/59.4b4b3163.js"><link rel="prefetch" href="/knowledge-system/assets/js/6.d6a1250e.js"><link rel="prefetch" href="/knowledge-system/assets/js/60.b3dbefd2.js"><link rel="prefetch" href="/knowledge-system/assets/js/61.e6fdd0ab.js"><link rel="prefetch" href="/knowledge-system/assets/js/62.d7b17838.js"><link rel="prefetch" href="/knowledge-system/assets/js/63.21468925.js"><link rel="prefetch" href="/knowledge-system/assets/js/64.d00e835d.js"><link rel="prefetch" href="/knowledge-system/assets/js/65.42040bfc.js"><link rel="prefetch" href="/knowledge-system/assets/js/66.2ad090a0.js"><link rel="prefetch" href="/knowledge-system/assets/js/67.5f51e073.js"><link rel="prefetch" href="/knowledge-system/assets/js/68.fbf94951.js"><link rel="prefetch" href="/knowledge-system/assets/js/69.a1c2c09f.js"><link rel="prefetch" href="/knowledge-system/assets/js/7.a0834ea4.js"><link rel="prefetch" href="/knowledge-system/assets/js/70.f95c1b3b.js"><link rel="prefetch" href="/knowledge-system/assets/js/8.e828d816.js"><link rel="prefetch" href="/knowledge-system/assets/js/9.7515729f.js">
    <link rel="stylesheet" href="/knowledge-system/assets/css/0.styles.6556c1a6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/knowledge-system/" class="home-link router-link-active"></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/knowledge-system/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/knowledge-system/CSS/layout/" class="nav-link">
  CSS
</a></div><div class="nav-item"><a href="/knowledge-system/JS/" class="nav-link router-link-active">
  JS
</a></div><div class="nav-item"><a href="/knowledge-system/broswer/work/" class="nav-link">
  浏览器
</a></div><div class="nav-item"><a href="/knowledge-system/engineering/" class="nav-link">
  工程化
</a></div><div class="nav-item"><a href="/knowledge-system/scene/lottieUsage/" class="nav-link">
  其他
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/knowledge-system/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/knowledge-system/CSS/layout/" class="nav-link">
  CSS
</a></div><div class="nav-item"><a href="/knowledge-system/JS/" class="nav-link router-link-active">
  JS
</a></div><div class="nav-item"><a href="/knowledge-system/broswer/work/" class="nav-link">
  浏览器
</a></div><div class="nav-item"><a href="/knowledge-system/engineering/" class="nav-link">
  工程化
</a></div><div class="nav-item"><a href="/knowledge-system/scene/lottieUsage/" class="nav-link">
  其他
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/knowledge-system/JS/basic/Type" class="sidebar-heading clickable open"><span>数据类型</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/knowledge-system/JS/basic/Type/Boolean-undefined-null-NaN.html" class="sidebar-link">特殊值</a></li><li><a href="/knowledge-system/JS/basic/Type/Number.html" class="sidebar-link">Number</a></li><li><a href="/knowledge-system/JS/basic/Type/String.html" class="sidebar-link">String</a></li><li><a href="/knowledge-system/JS/basic/Type/Array.html" class="sidebar-link">Array</a></li><li><a href="/knowledge-system/JS/basic/Type/Symbol.html" class="sidebar-link">Symbol</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>ES6</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/knowledge-system/JS/basic/ES6/Proxy+Reflect.html" class="sidebar-link">Proxy和Reflect</a></li><li><a href="/knowledge-system/JS/basic/ES6/fetch.html" class="sidebar-link">fetch</a></li><li><a href="/knowledge-system/JS/basic/ES6/other.html" class="sidebar-link">其他</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>闭包、作用域和 this 关键字</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/knowledge-system/JS/Closure-scope-context/Closure.html" class="sidebar-link">闭包</a></li><li><a href="/knowledge-system/JS/Closure-scope-context/scope.html" class="sidebar-link">作用域</a></li><li><a href="/knowledge-system/JS/Closure-scope-context/context.html" class="sidebar-link">上下文this</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>原型链、类和继承</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/knowledge-system/JS/prototype-chain-class-extends/prototype-chain.html" class="sidebar-link">原型链</a></li><li><a href="/knowledge-system/JS/prototype-chain-class-extends/class-extends.html" class="sidebar-link">继承</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/knowledge-system/JS/single-thread-async-event-loop" class="sidebar-heading clickable"><span>单线程、异步和事件轮询</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/knowledge-system/JS/single-thread-async-event-loop/async.html" class="sidebar-link">异步</a></li><li><a href="/knowledge-system/JS/single-thread-async-event-loop/event-loop.html" class="sidebar-link">事件轮询</a></li><li><a href="/knowledge-system/JS/single-thread-async-event-loop/WebWork.html" class="sidebar-link">WebWork</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>通信(跨域)、Ajax 和存储</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/knowledge-system/JS/communication-AJAX-storage/communication.html" class="sidebar-link">通信</a></li><li><a href="/knowledge-system/JS/communication-AJAX-storage/storage.html" class="sidebar-link">存储</a></li></ul></section></li><li><a href="/knowledge-system/JS/BOM/" class="sidebar-link">浏览器对象</a></li><li><a href="/knowledge-system/JS/DOM/" aria-current="page" class="active sidebar-link">文档对象</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/knowledge-system/JS/DOM/#dom-是什么" class="sidebar-link">DOM 是什么</a></li><li class="sidebar-sub-header"><a href="/knowledge-system/JS/DOM/#为什么" class="sidebar-link">为什么</a></li><li class="sidebar-sub-header"><a href="/knowledge-system/JS/DOM/#node-和-element-nodelist-和-htmlcollection" class="sidebar-link">Node 和 Element，NodeList 和 HTMLCollection</a></li><li class="sidebar-sub-header"><a href="/knowledge-system/JS/DOM/#属性和方法" class="sidebar-link">属性和方法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/knowledge-system/JS/DOM/#属性-用来表示-dom-直接的关系" class="sidebar-link">属性(用来表示 dom 直接的关系)</a></li><li class="sidebar-sub-header"><a href="/knowledge-system/JS/DOM/#属性-用来-get-和-set-节点内容" class="sidebar-link">属性(用来 get 和 set 节点内容)</a></li><li class="sidebar-sub-header"><a href="/knowledge-system/JS/DOM/#document-createelement" class="sidebar-link">document.createElement()</a></li><li class="sidebar-sub-header"><a href="/knowledge-system/JS/DOM/#方法-用来获取-dom-节点" class="sidebar-link">方法(用来获取 dom 节点)</a></li><li class="sidebar-sub-header"><a href="/knowledge-system/JS/DOM/#方法-用来操作-dom-节点" class="sidebar-link">方法(用来操作 dom 节点)</a></li></ul></li><li class="sidebar-sub-header"><a href="/knowledge-system/JS/DOM/#attribute-和-property-区分" class="sidebar-link">attribute 和 property 区分</a></li><li class="sidebar-sub-header"><a href="/knowledge-system/JS/DOM/#事件" class="sidebar-link">事件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/knowledge-system/JS/DOM/#事件发展" class="sidebar-link">事件发展</a></li></ul></li><li class="sidebar-sub-header"><a href="/knowledge-system/JS/DOM/#dom-事件模型和事件流" class="sidebar-link">dom 事件模型和事件流</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/knowledge-system/JS/DOM/#描述-dom-事件捕获流程" class="sidebar-link">描述 dom 事件捕获流程</a></li><li class="sidebar-sub-header"><a href="/knowledge-system/JS/DOM/#event-对象的常见应用" class="sidebar-link">Event 对象的常见应用</a></li><li class="sidebar-sub-header"><a href="/knowledge-system/JS/DOM/#自定义事件" class="sidebar-link">自定义事件</a></li></ul></li></ul></li><li><a href="/knowledge-system/JS/monitor-security/" class="sidebar-link">错误监控</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="dom-对象"><a href="#dom-对象" class="header-anchor">#</a> DOM 对象</h1> <h2 id="dom-是什么"><a href="#dom-是什么" class="header-anchor">#</a> DOM 是什么</h2> <p>DOM 是用来呈现 HTML 文档以及与 HTML 文档交互的 API,独立于平台与编程语言（如 js java）。DOM 数据结构的本质是树 DOM 树中每个节点的类型是 Node。</p> <h2 id="为什么"><a href="#为什么" class="header-anchor">#</a> 为什么</h2> <p>能够为所有的浏览器提供一致的方式,去创建、修改、删除文档中的节点。</p> <h2 id="node-和-element-nodelist-和-htmlcollection"><a href="#node-和-element-nodelist-和-htmlcollection" class="header-anchor">#</a> Node 和 Element，NodeList 和 HTMLCollection</h2> <ul><li>NodeList 是由 Node 组成的集合</li> <li>HTMLCollection 是由 Element 组成的集合</li> <li>Element 继承 Node 所以 Node 用的 Element 都可以用</li> <li>NodeList 是 likeArray 的对象</li> <li>可以通过[index]和.item(index)方法访问集合中的某个元素</li> <li>NodeList 是静态集合，HTMLCollection 为动态集合</li></ul> <h2 id="属性和方法"><a href="#属性和方法" class="header-anchor">#</a> 属性和方法</h2> <h3 id="属性-用来表示-dom-直接的关系"><a href="#属性-用来表示-dom-直接的关系" class="header-anchor">#</a> 属性(用来表示 dom 直接的关系)</h3> <blockquote><p>以下属性都是 readonly</p></blockquote> <table><thead><tr><th>返回 Node 类型</th> <th>返回 Element 类型</th></tr></thead> <tbody><tr><td>parentNode</td> <td>parentElement</td></tr> <tr><td>childNodes</td> <td>children</td></tr> <tr><td>firstChild</td> <td>firstElementChild</td></tr> <tr><td>lastChild</td> <td>lastElementChild</td></tr> <tr><td>nextSibling</td> <td>nextElementSibling</td></tr> <tr><td>previousSibling</td> <td>previousElementSibling</td></tr></tbody></table> <h3 id="属性-用来-get-和-set-节点内容"><a href="#属性-用来-get-和-set-节点内容" class="header-anchor">#</a> 属性(用来 get 和 set 节点内容)</h3> <blockquote><p>前两个只有 Element 类型才拥有</p></blockquote> <ul><li>innerHTML</li> <li>outerHTML</li> <li>innerText</li> <li>outerText</li> <li>textContent</li></ul> <h3 id="document-createelement"><a href="#document-createelement" class="header-anchor">#</a> document.createElement()</h3> <blockquote><p>createElement 只能由 document 来调用</p></blockquote> <h3 id="方法-用来获取-dom-节点"><a href="#方法-用来获取-dom-节点" class="header-anchor">#</a> 方法(用来获取 dom 节点)</h3> <blockquote><p>element 特有</p></blockquote> <table><thead><tr><th>名称</th> <th>返回值是什么类型的对象</th></tr></thead> <tbody><tr><td>getElementById(id:String)</td> <td>Element</td></tr> <tr><td>getElementByTagName(name:String)</td> <td>HtmlCollection</td></tr> <tr><td>getElementByClassName(className:String)</td> <td>HtmlCollection</td></tr> <tr><td>querySelector(selector:String)</td> <td>Element</td></tr> <tr><td>querySelectorAll(selector:String)</td> <td>NodeLiist</td></tr></tbody></table> <blockquote><p>node.childNodes 和 element.children 分别返回 NodeList 和 HtmlCollection 类型</p></blockquote> <h3 id="方法-用来操作-dom-节点"><a href="#方法-用来操作-dom-节点" class="header-anchor">#</a> 方法(用来操作 dom 节点)</h3> <table><thead><tr><th>methods</th> <th>参数类型</th></tr></thead> <tbody><tr><td>hasChildNodes</td> <td>无</td></tr> <tr><td>contains</td> <td>Node</td></tr> <tr><td>appendChild</td> <td>Node</td></tr> <tr><td>append</td> <td>Nodes/DOMString(被当成文本节点处理)</td></tr> <tr><td>removeChild</td> <td>Node</td></tr> <tr><td>remove</td> <td>无</td></tr> <tr><td>insertBefore</td> <td>newChild:Node,referChild:Node</td></tr> <tr><td>prepend</td> <td>newChild:Node/DOMString(被当成文本节点处理) referChild:Node</td></tr> <tr><td>replaceChild</td> <td>newChild:Node,referChild:Node</td></tr> <tr><td>cloneNode</td> <td></td></tr></tbody></table> <h2 id="attribute-和-property-区分"><a href="#attribute-和-property-区分" class="header-anchor">#</a> attribute 和 property 区分</h2> <ul><li>property 和 Node 实例对象的属性永远一致</li> <li>attribute 和标签上的显示永远一致</li> <li>访问 property 可以直接通过 . 运算符</li> <li>访问 attribute 通过 getAttribute() 方法</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> ele <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ele<span class="token punctuation">.</span>title<span class="token punctuation">;</span> <span class="token comment">//''</span>
ele<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;title&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//null</span>
</code></pre></div><blockquote><p>有很多细节看笔记吧</p></blockquote> <h2 id="事件"><a href="#事件" class="header-anchor">#</a> 事件</h2> <h3 id="事件发展"><a href="#事件发展" class="header-anchor">#</a> 事件发展</h3> <ul><li>dom0
ele.onclick = function(){}</li> <li>dom2
ele.addEventListerner('click',function(){},false)</li> <li>dom3
ele.addEventListerner('keyup',function(){},false)
<blockquote><p>第三个参数 true 则是在捕获阶段触发 false 是在冒泡阶段触发 默认 false</p></blockquote></li></ul> <h2 id="dom-事件模型和事件流"><a href="#dom-事件模型和事件流" class="header-anchor">#</a> dom 事件模型和事件流</h2> <p>捕获阶段-&gt;目标阶段-&gt;冒泡阶段</p> <p><img src="/knowledge-system/assets/img/mouseover-mouseenter.80d3258e.png" alt="流程"></p> <h3 id="描述-dom-事件捕获流程"><a href="#描述-dom-事件捕获流程" class="header-anchor">#</a> 描述 dom 事件捕获流程</h3> <ul><li>捕获阶段
window-&gt;document-&gt;html-&gt;body-&gt;...
html = document.documentElement
body = document.body</li> <li>目标阶段</li> <li>冒泡阶段
与捕获反向</li></ul> <h3 id="event-对象的常见应用"><a href="#event-对象的常见应用" class="header-anchor">#</a> Event 对象的常见应用</h3> <ul><li>阻止默认事件 ：event.preventDefault()</li> <li>停止冒泡 ：event.stopPropagation()</li> <li>事件响应优先级 ：event.stopImmediatePropagation()
<ul><li>同一个 dom 同一个类型 click 注册了两个事件 a b，a 里面执行它 则不继续触发 b</li></ul></li> <li>当前所响应的元素(事件绑定在谁上) ：event.currentTarget</li> <li>当前被点击的元素 ：event.target</li></ul> <h4 id="事件代理-委托"><a href="#事件代理-委托" class="header-anchor">#</a> 事件代理(委托)</h4> <ul><li>基本应用：列表的点击</li> <li>适合用事件委托的事件：click，mousedown，mouseup，keydown，keyup，keypress。值得注意的是，mouseover 和 mouseout 需要经常计算它们的位置，代理起不太容易。</li> <li>不适合的很多，例如，mousemove，每次都要计算它的位置，非常不好把控。还有，focus，blur 之类的，本身就没冒泡的性，自然就不能用事件委托了。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>target <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>nodeName <span class="token operator">==</span> <span class="token string">&quot;LI&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;li click&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> target <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>parentNode<span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>target<span class="token punctuation">.</span>nodeName <span class="token operator">!==</span> <span class="token string">&quot;ul&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>target<span class="token punctuation">.</span>nodeName <span class="token operator">==</span> <span class="token string">&quot;LI&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;li click because propo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      target <span class="token operator">=</span> target<span class="token punctuation">.</span>parentNode<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="下拉框"><a href="#下拉框" class="header-anchor">#</a> 下拉框</h4> <p>下拉框的一般做法， 是把下拉面板放在容器元素内部，通过绝对定位将元素展示出来，通过 z-index 控制元素浮在其他元素上层</p> <blockquote><p>此时在页面上任意一处的点击事件， 都应关闭下拉框， 但是面板内点击不会关闭弹出面板， 我们会在 document 上注册一个 click 事件， 当这个事件被触发的时候， 关闭面板， 根据事件冒泡原则， 在面板上点击， 最终也会冒泡到 document 上， 同样会关闭面板，这是我们不想要的， 那么我们会在面板上也注册一个事件， 触发的时候调用 stopPropagation， 阻止冒泡， 那么点击面板的时候， 由于事件不会冒泡到 document， 则不会关闭面板， 这个结果是我们需要的。</p></blockquote> <blockquote><p>但是此时还有另外一个问题， 如果有其他元素也阻止了事件冒泡， 那么界面上会出现点击其他元素而下拉面板不关闭的情况， 此时， 我们可以将 document 的事件注册在捕获阶段， 这样其他元素是无法阻止事件传播到 document 上， 当然， 面板也无法阻止， 此时就需要判断 target 了， 如果 target 在面板内部， 不关闭， 否则关闭。 会显得比上一个方法要麻烦一点， 但是效果是最好的， 这里是一个取舍的问题。</p></blockquote> <h4 id="mouseover-和-mouseenter"><a href="#mouseover-和-mouseenter" class="header-anchor">#</a> mouseover 和 mouseenter</h4> <p>父子元素，子元素在父元素中间
父over-父enter-父out-子over-子out-父over-父out-父leave</p> <h3 id="自定义事件"><a href="#自定义事件" class="header-anchor">#</a> 自定义事件</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//定义test事件</span>
<span class="token keyword">const</span> customEve <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Event</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// const customEve = new Event('test',someObj);</span>
<span class="token comment">// 也可以用 CustomEvent , 区别是 CustomEvent 有两个参数可以接收</span>
ele<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;test event&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//触发test件</span>
ele<span class="token punctuation">.</span><span class="token function">dispatchEvent</span><span class="token punctuation">(</span>customEve<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/knowledge-system/JS/BOM/" class="prev">
        浏览器对象
      </a></span> <span class="next"><a href="/knowledge-system/JS/monitor-security/">
        错误监控
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/knowledge-system/assets/js/app.992cd1d6.js" defer></script><script src="/knowledge-system/assets/js/2.daeff249.js" defer></script><script src="/knowledge-system/assets/js/13.8025a5c3.js" defer></script>
  </body>
</html>
