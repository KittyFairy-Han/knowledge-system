(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{466:function(t,v,_){"use strict";_.r(v);var l=_(42),h=Object(l.a)({},(function(){var t=this,v=t.$createElement,_=t._self._c||v;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h1",{attrs:{id:"http-基础"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#http-基础"}},[t._v("#")]),t._v(" http 基础")]),t._v(" "),_("h2",{attrs:{id:"网络七层模型"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#网络七层模型"}},[t._v("#")]),t._v(" 网络七层模型")]),t._v(" "),_("p",[_("a",{attrs:{href:"https://www.liaoxuefeng.com/wiki/1016959663602400/1017787663253120",target:"_blank",rel:"noopener noreferrer"}},[t._v("详细讲解"),_("OutboundLink")],1)]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("OSI 七层模型")]),t._v(" "),_("th",[t._v("物理设备")]),t._v(" "),_("th",[t._v("功能")]),t._v(" "),_("th",[t._v("TCP/IP 协议(用来定义作用的规范)")]),t._v(" "),_("th",[t._v("数据单元")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("7 应用层")]),t._v(" "),_("td",[t._v("文件服务、虚拟终端")]),t._v(" "),_("td"),t._v(" "),_("td",[t._v("http、FTP、DNS")]),t._v(" "),_("td",[t._v("消息")])]),t._v(" "),_("tr",[_("td",[t._v("4 传输层")]),t._v(" "),_("td",[t._v("/")]),t._v(" "),_("td",[t._v("负责建立连接、发送数据以及断开连接")]),t._v(" "),_("td",[t._v("TCP、UDP")]),t._v(" "),_("td",[t._v("fragment 段")])]),t._v(" "),_("tr",[_("td",[t._v("3 网络层")]),t._v(" "),_("td",[t._v("路由器")]),t._v(" "),_("td",[t._v("为数据包进行 IP 选址和选择路由")]),t._v(" "),_("td",[t._v("IP")]),t._v(" "),_("td",[t._v("packet/数据包")])]),t._v(" "),_("tr",[_("td",[t._v("2 数据链路层")]),t._v(" "),_("td",[t._v("以太网交换机")]),t._v(" "),_("td",[t._v("传输有地址的帧以及错误检测功能")]),t._v(" "),_("td",[t._v("(几乎用不到 )")]),t._v(" "),_("td",[t._v("帧")])]),t._v(" "),_("tr",[_("td",[t._v("1 物理层")]),t._v(" "),_("td",[t._v("光纤")]),t._v(" "),_("td",[t._v("以二进制形式在物理媒介上传输数据")]),t._v(" "),_("td",[t._v("(几乎用不到)")]),t._v(" "),_("td",[t._v("bit/比特")])])])]),t._v(" "),_("p",[t._v("7 应用层、6 表示层（数据格式化、数据加密、代码转换）、5 会话层（建立、维护、解除会话）统称为应用层")]),t._v(" "),_("h2",{attrs:{id:"http-协议"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#http-协议"}},[t._v("#")]),t._v(" http 协议")]),t._v(" "),_("h3",{attrs:{id:"特点"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#特点"}},[t._v("#")]),t._v(" 特点")]),t._v(" "),_("ul",[_("li",[t._v("简单快速")]),t._v(" "),_("li",[t._v("灵活")]),t._v(" "),_("li",[t._v("无连接：连接一次完成任务之后就断掉 不会保持")]),t._v(" "),_("li",[t._v("无状态：服务端无法识别本次连接和上次连接的客户端是否为同一客户端")])]),t._v(" "),_("h3",{attrs:{id:"http-报文"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#http-报文"}},[t._v("#")]),t._v(" http 报文")]),t._v(" "),_("ul",[_("li",[t._v("请求报文在谷歌开发者工具中 network 选项中的对应")]),t._v(" "),_("li",[_("ul",[_("li",[t._v("请求行：GET/http/1.1")])])]),t._v(" "),_("li",[_("ul",[_("li",[t._v("请求头：Request Headers")])])]),t._v(" "),_("li",[_("ul",[_("li",[t._v("空行 用来分割请求头与请求体")])])]),t._v(" "),_("li",[_("ul",[_("li",[t._v("请求体：Request Body")])])]),t._v(" "),_("li",[t._v("响应报文在谷歌开发者工具中 network 选项中的对应")]),t._v(" "),_("li",[_("ul",[_("li",[t._v("状态行：http/1.1(也有可能是 keep-alive) 200 OK")])])]),t._v(" "),_("li",[_("ul",[_("li",[t._v("响应头：Response Headers")])])]),t._v(" "),_("li",[_("ul",[_("li",[t._v("空行 用来分割响应头与响应体")])])]),t._v(" "),_("li",[_("ul",[_("li",[t._v("响应体：Response/Preview")])])])]),t._v(" "),_("h3",{attrs:{id:"http-请求方法"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#http-请求方法"}},[t._v("#")]),t._v(" http 请求方法")]),t._v(" "),_("ul",[_("li",[t._v("请求方法包括：（后三个不常用）")]),t._v(" "),_("li",[_("ul",[_("li",[t._v("GET")])])]),t._v(" "),_("li",[_("ul",[_("li",[t._v("POST")])])]),t._v(" "),_("li",[_("ul",[_("li",[t._v("PUT 更新资源")])])]),t._v(" "),_("li",[_("ul",[_("li",[t._v("DELETE 删除资源")])])]),t._v(" "),_("li",[_("ul",[_("li",[t._v("HEAD 获得报文首部")])])]),t._v(" "),_("li",[t._v("GET POST 区别")]),t._v(" "),_("li",[_("ul",[_("li",[t._v("GET 请求会被浏览器主动缓存，而 POST 不会，除非手动设置")])])]),t._v(" "),_("li",[_("ul",[_("li",[t._v("GET 在浏览器回退时时无害的，POST 会再次提交请求")])])]),t._v(" "),_("li",[_("ul",[_("li",[t._v("GET 请求在 URL 中传送的参数是有长度限制的，POST 没有")])])]),t._v(" "),_("li",[_("ul",[_("li",[t._v("GET 通过 URL 传递参数，POST 放在 请求体 中，GET 安全性低")])])]),t._v(" "),_("li",[_("ul",[_("li",[t._v("GET 请求参数会被完整的保留在浏览器历史记录里，而 POST 得参数不会被保留")])])])]),t._v(" "),_("h3",{attrs:{id:"http-状态码"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#http-状态码"}},[t._v("#")]),t._v(" http 状态码")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("1** 提示信息-表示请求已接收，继续处理")])]),t._v(" "),_("li",[_("p",[t._v("2** 表示请求成功")])]),t._v(" "),_("li",[_("ul",[_("li",[t._v("200 客户端请求成功")])])]),t._v(" "),_("li",[_("ul",[_("li",[t._v("206 客户端发送了一个带有 Range 头的 GET 请求，服务端完成了他。当视频音频等文件过大时。")])])]),t._v(" "),_("li",[_("p",[t._v("3** 进行进一步操作")])]),t._v(" "),_("li",[_("ul",[_("li",[t._v("301 请求的页面永久转移至新的 url:被请求的资源已永久移动到新位置。服务器返回此响应（对 GET 或 HEAD 请求的响应）时，会自动将请求者转到新位置。")])])]),t._v(" "),_("li",[_("ul",[_("li",[t._v("302 所请求的页面已临时转移到新的 url：请求的资源临时从不同的 URI 响应请求，但请求者应继续使用原有位置来进行以后的请求。")])])]),t._v(" "),_("li",[_("ul",[_("li",[t._v("304 已有缓存了 不用重新请求")])])]),t._v(" "),_("li",[_("p",[t._v("4** 客户端错误")])]),t._v(" "),_("li",[_("ul",[_("li",[t._v("400")])])]),t._v(" "),_("li",[_("ul",[_("li",[t._v("401 未授权")])])]),t._v(" "),_("li",[_("ul",[_("li",[t._v("403")])])]),t._v(" "),_("li",[_("ul",[_("li",[t._v("404")])])]),t._v(" "),_("li",[_("p",[t._v("5** 服务端错误")])])]),t._v(" "),_("h3",{attrs:{id:"http-持久连接"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#http-持久连接"}},[t._v("#")]),t._v(" http 持久连接")]),t._v(" "),_("p",[t._v("从 1.1 版本开始支持持久连接，使用 keep-alive 模式（持久连接、连接重用）时，keep-alive 功能使客户端到服务端的连接持久有效，当出现服务的后继请求时，keep-alive 功能避免了建立或者重新建立连接。")]),t._v(" "),_("h3",{attrs:{id:"http-管线化"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#http-管线化"}},[t._v("#")]),t._v(" http 管线化")]),t._v(" "),_("p",[t._v("使用持久连接的情况下，某个连接上的消息传递由\n请求 1 > 响应 1 >请求 2 > 响应 2 > 请求 3 > 响应 3\n变成了类似这样\n请求 1 > 请求 2 > 请求 3 > 响应 1 > 响应 2 > 响应 3")]),t._v(" "),_("ul",[_("li",[t._v("管线化前提是 开启持久连接")]),t._v(" "),_("li",[t._v("管线化 GET HEAD 请求支持 POST 有所限制")]),t._v(" "),_("li",[t._v("初次创建连接时不应启动管线机制，因为服务器不一定支持 http/1.1 版本的协议")])]),t._v(" "),_("h3",{attrs:{id:"一次完整的-http-请求流程"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#一次完整的-http-请求流程"}},[t._v("#")]),t._v(" 一次完整的 http 请求流程")]),t._v(" "),_("ol",[_("li",[t._v("域名解析 即 解析例如 www.baidu.com 所对应的 IP 地址")]),t._v(" "),_("li",[t._v("三次握手")]),t._v(" "),_("li",[t._v("建立连接发起 http 请求")])]),t._v(" "),_("ul",[_("li",[t._v("2-3 详细流程：请求——路由——>网卡——>TCP 协议---防火墙---\x3eWEB 程序——>成功建立连接")])]),t._v(" "),_("ol",{attrs:{start:"4"}},[_("li",[t._v("服务器响应 http 请求 给浏览器返回 数据")]),t._v(" "),_("li",[t._v("浏览器解析数据")]),t._v(" "),_("li",[t._v("渲染页面")])]),t._v(" "),_("h3",{attrs:{id:"http1-0-http1-x-http2"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#http1-0-http1-x-http2"}},[t._v("#")]),t._v(" http1.0 -> http1.x-> http2")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th"),t._v(" "),_("th",[t._v("http1.x")]),t._v(" "),_("th",[t._v("http2")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("协议层级")]),t._v(" "),_("td",[t._v("tcp->http")]),t._v(" "),_("td",[t._v("tcp->ssl/tls->http")])]),t._v(" "),_("tr",[_("td",[t._v("传输格式")]),t._v(" "),_("td",[t._v("文本")]),t._v(" "),_("td",[t._v("二进制")])]),t._v(" "),_("tr",[_("td",[t._v("复用")]),t._v(" "),_("td",[t._v("keep-alive")]),t._v(" "),_("td",[t._v("多路复用")])]),t._v(" "),_("tr",[_("td",[t._v("服务端推送能力")]),t._v(" "),_("td",[t._v("无")]),t._v(" "),_("td",[t._v("有")])])])]),t._v(" "),_("ul",[_("li",[t._v("多路复用：一个 request 对应一个 id，这样一个连接上可以有多个 request，每个连接的 request 可以随机的混杂在一起，接收方可以根据 request 的 id 将 request 再归属到各自不同的服务端请求里面。")])]),t._v(" "),_("h3",{attrs:{id:"http-vs-https"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#http-vs-https"}},[t._v("#")]),t._v(" http VS https")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th"),t._v(" "),_("th",[t._v("http")]),t._v(" "),_("th",[t._v("https")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("协议层级")]),t._v(" "),_("td",[t._v("tcp->http")]),t._v(" "),_("td",[t._v("tcp-ssl->https")])]),t._v(" "),_("tr",[_("td",[t._v("安全性")]),t._v(" "),_("td",[t._v("明文传输")]),t._v(" "),_("td",[t._v("加密传输")])])])]),t._v(" "),_("ul",[_("li",[t._v("为什么 https 更安全？\n"),_("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/40902149",target:"_blank",rel:"noopener noreferrer"}},[t._v("【https 加密的发展之路】"),_("OutboundLink")],1),t._v(" "),_("a",{attrs:{href:"http://www.ruanyifeng.com/blog/2011/08/what_is_a_digital_signature.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("【https 加密的发展之路】"),_("OutboundLink")],1),t._v("\n因为网络请求需要中间有很多的服务器路由器的转发。中间的节点都可能篡改信息，而如果使用 httpS，密钥在你和终点站才有。https 之所以比 http 安全，是因为他利用 ssl/tls(现在都用 TLS 协议了)协议传输。它包含证书，卸载，流量转发，负载均衡，页面适配，浏览器适配，refer 传递等。保障了传输过程的安全性")])]),t._v(" "),_("h3",{attrs:{id:"请求速度"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#请求速度"}},[t._v("#")]),t._v(" 请求速度")]),t._v(" "),_("p",[t._v("https(2)>http(1.x)>https(1.x)"),_("br"),t._v("\nhttps 开头的请求，可以是用 http1.x 协议，也可以用 http2 协议的。"),_("br"),t._v("\nhttp 开头的请求是 http1.x 协议（因为只要用 2 必须是 https ，所以不存在 http(2)）"),_("br")]),t._v(" "),_("h2",{attrs:{id:"tcp-和-udp"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#tcp-和-udp"}},[t._v("#")]),t._v(" TCP 和 UDP")]),t._v(" "),_("p",[t._v("TCP 用于在传输层有必要实现可靠传输的情况；UDP 主要用于那些对高速传输和实时性有较高要求的通信或广播通信。")])])}),[],!1,null,null,null);v.default=h.exports}}]);