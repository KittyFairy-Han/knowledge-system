(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{358:function(t,s,a){t.exports=a.p+"assets/img/composition.a7ec5749.jpg"},359:function(t,s,a){t.exports=a.p+"assets/img/hooks.62436d29.png"},360:function(t,s,a){t.exports=a.p+"assets/img/Proxy_Vue2.82715205.png"},361:function(t,s,a){t.exports=a.p+"assets/img/Proxy_Vue3.91583934.png"},362:function(t,s,a){t.exports=a.p+"assets/img/fiber-1.8c789c50.png"},363:function(t,s,a){t.exports=a.p+"assets/img/fiber-2.6ef736a2.png"},364:function(t,s,a){t.exports=a.p+"assets/img/template_stringfy.e8340ac5.png"},365:function(t,s,a){t.exports=a.p+"assets/img/vdom_diff.4d462475.png"},476:function(t,s,a){"use strict";a.r(s);var n=a(42),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"vue3-ä¼˜åŒ–-react-å¯¹æ¯”"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#vue3-ä¼˜åŒ–-react-å¯¹æ¯”"}},[t._v("#")]),t._v(" Vue3 ä¼˜åŒ–ï¼ˆReact å¯¹æ¯”ï¼‰")]),t._v(" "),n("p",[t._v("è¿™æ¬¡ä¸»è¦æ˜¯æƒ³å’Œå¤§å®¶ä»‹ç» Vue3 çš„ä¼˜ç‚¹ã€‚å› ä¸ºå¤§å®¶å¯¹ Vue2 éƒ½æœ‰åŸºç¡€äº†ï¼Œæ‰€ä»¥ä¼šä»¥ Vue2 ä¸ºåŸºç¡€æ¥è¯´å®ƒçš„ç”¨æ³•æ”¹å˜å’Œæ€§èƒ½æå‡ã€‚é‡åˆ°ä¸ React æ€æƒ³ç›¸åŒï¼Œæˆ–è€…ç”¨æ³•ç›¸ä¼¼çš„åœ°æ–¹ï¼Œä¹Ÿä¼šä¸ React åšæ¯”è¾ƒã€‚"),n("br"),t._v("\nå†…å®¹ä¸Šï¼Œåªä¼šè¯´è®¾è®¡æ€è·¯ï¼Œå°½é‡é…å›¾ï¼Œé€šä¿—æ˜“æ‡‚çš„è®©å¤§å®¶äº†è§£åˆ°å®ƒä¼˜ç§€çš„åœ°æ–¹ã€‚ä¸ä¼šä¸Šå‡åˆ°æºç è®²è§£ï¼Œå› ä¸ºæ¯ä¸ªç‚¹ç»†èŠ‚çš„å»è®²éƒ½å€¼å¾—ä¸€æ•´ç¯‡æ–‡ç« äº†ã€‚")]),t._v(" "),n("h2",{attrs:{id:"ä½¿ç”¨ä½“éªŒæ–¹é¢"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨ä½“éªŒæ–¹é¢"}},[t._v("#")]),t._v(" ä½¿ç”¨ä½“éªŒæ–¹é¢")]),t._v(" "),n("p",[t._v("ç›¸æ¯”è¾ƒ Reactï¼ŒVue2.x ä½¿ç”¨ä¸Šæœ‰ä¸€äº›ç¼ºç‚¹ã€‚"),n("br"),t._v("\n1ï¸âƒ£ å¯¹ ts å¼±æ”¯æŒ"),n("br"),t._v("\n2ï¸âƒ£ åŠŸèƒ½ç‚¹çš„æ•°æ®å’Œé€»è¾‘åˆ†æ•£ï¼šVue2.x æ˜¯é€‰é¡¹é…ç½®å¼ï¼ˆOptions APIï¼‰çš„å†™æ³•"),n("br"),t._v("\n3ï¸âƒ£ ç»„ä»¶åŒ–ä¸å½»åº•ï¼šçº¯é€»è¾‘å¤ç”¨ä¸ä¼˜é›…ï¼Œmixin ç—›ç‚¹è¾ƒå¤š"),n("br"),t._v("\n4ï¸âƒ£ å“åº”å¼ä¸å®Œå–„ï¼šæ£€æµ‹ä¸åˆ°å¯¹è±¡å±æ€§çš„æ·»åŠ å’Œåˆ é™¤ã€æ— æ³•ç›‘æ§åˆ°æ•°ç»„ä¸‹æ ‡çš„å˜åŒ–"),n("br"),t._v("\nåœ¨ Vue3 ä¸­ï¼Œè¿™äº›ç¼ºç‚¹éƒ½æ”¹æ‰äº†ï¼Œç”šè‡³æ¯” React åšçš„æ›´å¥½ã€‚")]),t._v(" "),n("h3",{attrs:{id:"æ”¯æŒ-ts"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æ”¯æŒ-ts"}},[t._v("#")]),t._v(" æ”¯æŒ ts")]),t._v(" "),n("p",[t._v("Vue3.x ç”¨ ts é‡å†™ï¼Œå¯¹ ts æ”¯æŒå‹å¥½ã€‚ğŸ‰ğŸ‰ğŸ‰")]),t._v(" "),n("h3",{attrs:{id:"é€»è¾‘èšåˆ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#é€»è¾‘èšåˆ"}},[t._v("#")]),t._v(" é€»è¾‘èšåˆ")]),t._v(" "),n("p",[t._v("Vue3 ä¸­ä½¿ç”¨ Composition API ä½¿é€»è¾‘æ›´åŠ èšåˆã€‚"),n("br"),t._v("\nå®˜æ–¹ç¤ºä¾‹ï¼š"),n("br"),t._v(" "),n("img",{attrs:{src:a(358),alt:"Vue3.xé€»è¾‘åˆ†å¸ƒæ•£"}}),t._v("\næ¯ä¸ªé¢œè‰²ä»£è¡¨ä¸€ä¸ªåŠŸèƒ½ç‚¹ï¼Œ"),n("br"),t._v("\nåœ¨ Vue2.x ä¸­ä»¥ Options API çš„å½¢å¼åˆ†å¸ƒã€‚æ¯ä¸ªåŠŸèƒ½ç‚¹çš„æ•°æ®åœ¨ data ä¸­å®šä¹‰ï¼Œä¹Ÿå¯èƒ½å­˜åœ¨ä¸ computed ä¸­ã€‚åŠŸèƒ½ç‚¹çš„é€»è¾‘å¯èƒ½åˆ†æ•£ methodsï¼Œwatch ç­‰ option ä¸­ã€‚"),n("br"),t._v("\nåœ¨ Vue3.x ä¸­ä»¥ Composition API çš„å½¢å¼åˆ†å¸ƒï¼Œæ¯ä¸ªåŠŸèƒ½ç‚¹çš„æ•°æ®é€»è¾‘èšåˆåˆ°ä¸€ä¸ªä»£ç åŒºåŸŸã€‚")]),t._v(" "),n("h4",{attrs:{id:"ğŸŒ°-composition-api-ä½¿ç”¨"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ğŸŒ°-composition-api-ä½¿ç”¨"}},[t._v("#")]),t._v(" ğŸŒ° Composition API ä½¿ç”¨")]),t._v(" "),n("p",[t._v("æ¥çœ‹ä¸€ä¸‹ vue3 ä¸­ dataã€computedã€methodsã€watchã€ç”Ÿå‘½å‘¨æœŸå‡½æ•°çš„ç”¨æ³•ï¼š")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setup")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* ç±»ä¼¼ data */")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" greetings "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("ref")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"unknow"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* computed */")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" greetingLen "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("computed")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" greetings"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* methods */")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("updateGreeting")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    greetings"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Hello "')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* watch */")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("watch")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("greetingsï¼Œ")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("title "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("updating ")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("greetings"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    greetingsï¼Œ\n    greetingLenï¼Œ\n    updateGreetingï¼Œ\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h3",{attrs:{id:"é€»è¾‘å¤ç”¨å®Œå–„"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#é€»è¾‘å¤ç”¨å®Œå–„"}},[t._v("#")]),t._v(" é€»è¾‘å¤ç”¨å®Œå–„")]),t._v(" "),n("p",[t._v("Vue3.x ä¸­ä¹Ÿé‡‡ç”¨äº† Hook çš„æ€æƒ³ï¼Œä½¿ç”¨ Hook æ›´åˆ©äºé€»è¾‘å¤ç”¨ã€‚"),n("br"),t._v("\nåœ¨ Vue2.x ä¸­ï¼Œçº¯é€»è¾‘å¤ç”¨ä¼šé‡‡ç”¨ mixin çš„æ–¹å¼ï¼Œmixin æ˜¯ä»£ç æ³¨å…¥ï¼Œæ‰€ä»¥ä¸ä½¿ç”¨å®ƒçš„ç»„ä»¶ä¹‹é—´å­˜åœ¨éšå¼ä¾èµ–ï¼Œå¯èƒ½äº§ç”Ÿå‘½åå†²çªç­‰ï¼Œé™ä½äº†åº”ç”¨çš„å¯é¢„æµ‹æ€§ã€‚"),n("br"),t._v("\nHooks ä¸æ˜¯æ³¨å…¥ä»£ç ç‰‡æ®µï¼Œç±»ä¼¼ä¸€ä¸ªç‹¬ç«‹çš„å®ä¾‹ï¼Œä¸ä¼šä¸å¼•å…¥å®ƒçš„ç»„ä»¶ä»£ç å‘ç”Ÿè€¦åˆæˆ–è€…è¦†ç›–ï¼Œä¹Ÿä¸èƒ½æ›´æ”¹ç»„ä»¶ä¼ é€’ç»™å®ƒçš„å±æ€§ã€‚å¹¶ä¸”å¤šä¸ª Hooks ä¹‹é—´å¯ä»¥ä¸²è”ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥ç›¸äº’è°ƒç”¨ã€‚\n"),n("img",{attrs:{src:a(359),alt:"Vue3.xç»„ä»¶åŒ–æ›´æ¸…æ™°"}}),t._v("\nVue Hooks ä¸ä»…æ˜¯å¯¹ mixin çš„ä¸€ç§æ›¿ä»£å‡çº§æ–¹æ¡ˆï¼Œè€Œä¸” Vue Hooks è§„é¿äº†ä¸€äº› React Hooks çš„ä½¿ç”¨ä¸Šçš„é™åˆ¶å’Œéº»çƒ¦ä¹‹å¤„ã€‚"),n("br"),t._v("\n1ï¸âƒ£ React Hooks å¿…é¡»åœ¨é¡¶å±‚è°ƒç”¨ï¼Œä¸èƒ½åœ¨æ¡ä»¶è¯­å¥ä½¿ç”¨ã€‚Vue Hooks çš„ä½¿ç”¨æ²¡æœ‰è¿™äº›é™åˆ¶ï¼ŒåªæŠŠå®ƒå½“æˆä¸€ä¸ªæ™®é€šçš„å‡½æ•°ç”¨å°± okã€‚")]),t._v(" "),n("blockquote",[n("p",[t._v("React çš„ Hook åº•å±‚æ˜¯é“¾è¡¨ï¼Œæ¯ä¸€ä¸ª Hook çš„ next æ˜¯æŒ‡å‘ä¸‹ä¸€ä¸ª Hook çš„ï¼Œif ä¼šå¯¼è‡´é¡ºåºä¸æ­£ç¡®ï¼Œä»è€ŒæŠ¥é”™ï¼Œæ‰€ä»¥ react æ˜¯ä¸å…è®¸è¿™æ ·ä½¿ç”¨ Hook çš„ã€‚")])]),t._v(" "),n("p",[t._v("2ï¸âƒ£ React Hooks æœ‰æ—¶éœ€è¦æ‰‹åŠ¨ä½¿ç”¨ useCallbackï¼ŒuseMemo å»ä¼˜åŒ–ï¼Œé¿å…å­ç»„ä»¶æ— å¿…è¦çš„é‡æ–°æ¸²æŸ“ã€‚Vue æ˜¯ä¸éœ€è¦å¼€å‘äººå‘˜å»è€ƒè™‘è¿™äº›æ‰‹åŠ¨ä¼˜åŒ–çš„ã€‚")]),t._v(" "),n("blockquote",[n("p",[t._v("Vue çš„ç»„ä»¶æ¸²æŸ“æ˜¯åŸºäºå“åº”å¼çš„ï¼Œå†…éƒ¨åšäº†ç»†ç²’åº¦çš„ç›‘å¬æœºåˆ¶ï¼Œä¸ä¼šäº§ç”Ÿæ— å¿…è¦çš„å­ç»„ä»¶é‡æ–°æ¸²æŸ“ã€‚")])]),t._v(" "),n("p",[t._v("3ï¸âƒ£ React ä¼šåœ¨æ¯æ¬¡æ¸²æŸ“éƒ½æ‰§è¡Œä¸€é Hooks ï¼Œ å¯èƒ½å¯¼è‡´æ€§èƒ½ä¸ä½³ã€‚Vue Hooks åªåœ¨åˆå§‹åŒ–æ‰§è¡Œã€‚")]),t._v(" "),n("blockquote",[n("p",[t._v("React æˆ‘ä»¬å®šä¹‰çš„æ˜¯æ¸²æŸ“å‡½æ•°ï¼ŒVue æˆ‘ä»¬å®šä¹‰çš„æ˜¯ç»„ä»¶ï¼Œåœ¨ setup ä¸­ ä½¿ç”¨ Hooksï¼Œsetup åªä¼šåœ¨åˆå§‹åŒ–æ—¶æ‰§è¡Œä¸€æ¬¡ï¼Œæ‰€ä»¥ Vue Hooks æ¯æ¬¡æ¸²æŸ“æ—¶éƒ½é‡å¤æ‰§è¡Œã€‚")])]),t._v(" "),n("h4",{attrs:{id:"ğŸŒ°-vue-hooks-çš„ä¾‹å­"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ğŸŒ°-vue-hooks-çš„ä¾‹å­"}},[t._v("#")]),t._v(" ğŸŒ° Vue Hooks çš„ä¾‹å­")]),t._v(" "),n("p",[t._v("å®ç°ä¸€ä¸ª Hooksï¼Œæ£€æŸ¥æ˜¯å¦åœ¨ç›®æ ‡å…ƒç´ ä»¥å¤–è¿›è¡Œç‚¹å‡»ã€‚åº”ç”¨åœºæ™¯ï¼šç‚¹å‡»ä¸‹æ‹‰æ¡†çš„ä»¥å¤–çš„ä»»æ„ä½ç½®å…³é—­ä¸‹æ‹‰æ¡†ã€‚"),n("br"),t._v(" "),n("strong",[t._v("Hook å†…éƒ¨ä»£ç ")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" refï¼Œ onMountedï¼Œ onUnmountedï¼Œ Ref "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vue"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// elementRef ç›®æ ‡å…ƒç´ ")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("elementRef"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Ref"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" HTMLElement"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å®šä¹‰ä¸€ä¸ªçŠ¶æ€è¡¨ç¤ºæ˜¯å¦åœ¨å…ƒç´ å¤–ç‚¹å‡»")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" isClickOutside "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("ref")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("handler")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" MouseEvent")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("elementRef"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("elementRef"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("contains")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" HTMLElement"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        isClickOutside"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        isClickOutside"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Hook è¢«æ³¨å†Œæ—¶å¼€å¯ç›‘å¬")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("onMounted")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"click"')]),t._v("ï¼Œ handler"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Hook è¢«æ³¨é”€æ—¶ç§»é™¤ç›‘å¬")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("onUnmounted")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeEventListener")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"click"')]),t._v("ï¼Œ handler"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æŠŠçŠ¶æ€ä¼ é€’ç»™çˆ¶çº§ç»„ä»¶")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" isClickOutside"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[n("strong",[t._v("ç»„ä»¶ä¸­åº”ç”¨ Hook")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" useClickOutside "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"../Hooks/useClickOutside"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ....")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setup")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ....")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" dropdownRef "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ref "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" HTMLElement"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" isClickOutside "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("useClickOutside")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("dropdownRef"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("watch")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("isClickOutsideï¼Œ")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("isClickOutside"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" isOpen"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ‰“å¼€çŠ¶æ€ä¸‹ï¼Œç‚¹å‡»éç›®æ ‡å…ƒç´ å’Œå®ƒçš„å­©å­èŠ‚ç‚¹åˆ™å…³é—­ç›®æ ‡å…ƒç´ ")]),t._v("\n      isOpen"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n    isOpenï¼Œ\n    isClickOutsideï¼Œ\n    dropdownRefï¼Œ\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h3",{attrs:{id:"å“åº”å¼æ”¹å†™"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å“åº”å¼æ”¹å†™"}},[t._v("#")]),t._v(" å“åº”å¼æ”¹å†™")]),t._v(" "),n("p",[t._v("Proxy ä»£æ›¿ Object.defineProperty ï¼Œå¾—ç›Šäº Proxy åŸç”Ÿèƒ½åŠ›ï¼Œå¯ä»¥åŠ«æŒå¯¹è±¡å¢åˆ å±æ€§ã€æ•°ç»„ä¸‹æ ‡å˜åŒ–ã€‚ğŸ‰ğŸ‰ğŸ‰")]),t._v(" "),n("p",[t._v("åœ¨ Vue2.x ä¸­å¦‚æœæƒ³è¦ç›‘å¬å¯¹è±¡å¢åˆ å±æ€§ï¼Œéœ€è¦ä½¿ç”¨ Vue çš„é™æ€æ–¹æ³•ï¼ŒVue.setã€Vue.deleteã€‚å¯¹äº Vue3 æ¥è¯´ï¼Œä¸éœ€è¦è¿™ç§è¡¥ä¸å†™æ³•äº†ã€‚ Vue2.x ä¸­å“åº”å¼æ•°æ®æ˜¯é€šè¿‡ data(){} è¿™ä¸ª Option è¿”å›çš„ã€‚"),n("br"),t._v("\nVue3 ä¸­å“åº”å¼æ•°æ®æ˜¯åœ¨åˆå§‹åŒ–æ—¶ï¼ˆsetup å‡½æ•°ï¼‰é€šè¿‡ ref API æˆ–è€… reactive API å®šä¹‰çš„ï¼Œç„¶åä½œä¸º setup çš„è¿”å›å€¼ã€‚")]),t._v(" "),n("h4",{attrs:{id:"ğŸŒ°-å“åº”å¼æ•°æ®åŸºæœ¬ç”¨æ³•"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ğŸŒ°-å“åº”å¼æ•°æ®åŸºæœ¬ç”¨æ³•"}},[t._v("#")]),t._v(" ğŸŒ° å“åº”å¼æ•°æ®åŸºæœ¬ç”¨æ³•")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setup")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* é€šè¿‡ä¸‹æ ‡æ›´æ”¹æ•°ç»„çš„å€¼ */")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" list "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("ref")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("ï¼Œ "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("ï¼Œ "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("ï¼Œ "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("changeList")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" i "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Math"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("floor")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Math"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("random")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" v "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Math"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("random")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      list"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" v"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//æ›´æ”¹ä¸‹æ ‡å¯ä»¥å“åº”")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* ä¸ºå¯¹è±¡å¢æ·»å±æ€§ */")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" obj"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" any "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("ref")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"è¯­æ–‡"')]),t._v("ï¼Œ score"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"98"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("changeObj")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" index "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Object"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("keys")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" k "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"prop-"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" index"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" v "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"value-"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" index"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      obj"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("k"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" v"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//ç›´æ¥æ·»åŠ å°±å¯ä»¥å“åº”")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç”¨äºtemplateæ¸²æŸ“")]),t._v("\n      listï¼Œ\n      changeListï¼Œ\n      objï¼Œ\n      changeObjï¼Œ\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("ï¼Œ\n")])])]),n("p",[t._v("å¯ä»¥é€šè¿‡"),n("a",{attrs:{href:"https://codesandbox.io/s/pedantic-lehmann-3mw88?file=/src/App.vue",target:"_blank",rel:"noopener noreferrer"}},[t._v("è¿™ä¸ªåœ¨çº¿ä¾‹å­"),n("OutboundLink")],1),t._v("æ¥æŸ¥çœ‹å®Œæ•´ä»£ç ï¼Œä»¥éªŒè¯ã€‚")]),t._v(" "),n("h2",{attrs:{id:"æ€§èƒ½-åˆå§‹åŒ–é€Ÿåº¦"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æ€§èƒ½-åˆå§‹åŒ–é€Ÿåº¦"}},[t._v("#")]),t._v(" æ€§èƒ½-åˆå§‹åŒ–é€Ÿåº¦")]),t._v(" "),n("h3",{attrs:{id:"å“åº”å¼"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å“åº”å¼"}},[t._v("#")]),t._v(" å“åº”å¼")]),t._v(" "),n("p",[t._v("Object.defineProperty åªèƒ½åŠ«æŒå¯¹è±¡çš„å±æ€§ï¼Œ æ‰€ä»¥åœ¨ Vue.js 2.x ä¸­ï¼Œå¯¹äºä¸€ä¸ªæ·±å±‚å±æ€§åµŒå¥—çš„å¯¹è±¡ï¼Œè¦åŠ«æŒå®ƒå†…éƒ¨æ·±å±‚æ¬¡çš„å˜åŒ–ï¼Œå°±éœ€è¦åœ¨"),n("strong",[t._v("Vue å®ä¾‹åˆå§‹åŒ–çš„æ—¶å€™é€’å½’éå†")]),t._v("è¿™ä¸ªå¯¹è±¡ï¼Œæ‰§è¡Œ Object.defineProperty æŠŠæ¯ä¸€å±‚å¯¹è±¡æ•°æ®éƒ½å˜æˆå“åº”å¼çš„ã€‚\n"),n("img",{attrs:{src:a(360),alt:"Vue2 æ•°æ®åŠ«æŒ"}})]),t._v(" "),n("p",[t._v("Proxy æ˜¯å¯¹è±¡å±‚çš„åŠ«æŒï¼Œåœ¨ Vue.js 3.x ä¸­ï¼Œåˆå§‹åŒ–ä¸€ä¸ªå“åº”å¼æ•°æ®æ—¶ä¸ä¼šç›´æ¥è¿›è¡Œæ·±å±‚é€’å½’è°ƒç”¨ï¼Œ"),n("strong",[t._v("é€’å½’è°ƒç”¨æ˜¯å‘ç”Ÿåœ¨ getter çš„æ—¶å€™")]),t._v("ï¼Œä¹Ÿå°±æ˜¯è¯´åªæœ‰å±æ€§è¢«ä½¿ç”¨äº†æ‰ä¼šè¿›ä¸€æ­¥çš„æ·±å±‚è°ƒç”¨ã€‚è¿™å…¶å®æ˜¯ä¸€ç§å»¶æ—¶å®šä¹‰å­å¯¹è±¡å“åº”å¼çš„å®ç°ï¼Œåœ¨æ€§èƒ½ä¸Šä¼šæœ‰ä¸€å®šçš„æå‡ã€‚\n"),n("img",{attrs:{src:a(361),alt:"Vue3 æ•°æ®åŠ«æŒ"}})]),t._v(" "),n("p",[t._v("å®éªŒæ•°æ®å¯ä»¥å‚è€ƒ"),n("a",{attrs:{href:"https://www.yuque.com/hugsun/Vue3/perf",target:"_blank",rel:"noopener noreferrer"}},[t._v("è¿™ä¸ª"),n("OutboundLink")],1)]),t._v(" "),n("h2",{attrs:{id:"æ€§èƒ½-æ›´æ–°é€Ÿåº¦"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æ€§èƒ½-æ›´æ–°é€Ÿåº¦"}},[t._v("#")]),t._v(" æ€§èƒ½-æ›´æ–°é€Ÿåº¦")]),t._v(" "),n("p",[t._v("Vue å’Œ React ä¸¤è€…éƒ½å…·æœ‰æ•°æ®é©±åŠ¨è§†å›¾çš„æ€æƒ³ï¼Œä¹Ÿéƒ½ç”¨åˆ°äº† VDOMï¼Œå¯¹æµç¨‹æœ€ç®€æ´çš„æ¦‚æ‹¬ï¼š data->VDOM->DOM->view ï¼Œè¿™ä¸ªæµç¨‹æœ¬è´¨ä¸Šå°±æ˜¯ js æ‰§è¡Œã€‚js æ‰§è¡Œè¦è€ƒè™‘æ€§èƒ½é—®é¢˜ï¼Œå› ä¸º js æ‰§è¡ŒæœŸé—´ä¼šä¸€ç›´å æ®ç€ CPUï¼Œå¦‚æœæ—¶é—´è¿‡é•¿ï¼Œä¸€åˆ™ä¼šå¯¼è‡´ç”¨æˆ·è§¦å‘çš„äº‹ä»¶å¾—ä¸åˆ°å“åº”ï¼Œ äºŒåˆ™ä¼šå¯¼è‡´æ‰å¸§å³é˜»å¡æµè§ˆå™¨æ¸²æŸ“ï¼Œç”¨æˆ·çš„è§’åº¦å»æ„ŸçŸ¥å°±æ˜¯å¡é¡¿ã€‚"),n("br"),t._v("\nè§£å†³è¿™ç§ç”±äº js æ‰§è¡Œæ—¶é—´è¿‡é•¿å¯¼è‡´å¡é¡¿çš„é—®é¢˜ Vue3 å’Œ React èµ°äº†ä¸åŒçš„è·¯ã€‚")]),t._v(" "),n("h3",{attrs:{id:"ä¸-react-æ›´æ–°æ€§èƒ½æ€»ä½“å¯¹æ¯”"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ä¸-react-æ›´æ–°æ€§èƒ½æ€»ä½“å¯¹æ¯”"}},[t._v("#")]),t._v(" ä¸ React æ›´æ–°æ€§èƒ½æ€»ä½“å¯¹æ¯”")]),t._v(" "),n("h4",{attrs:{id:"react-çš„æ€è·¯-cpu-æ€»è¿ç®—é‡ä¸å˜-åˆ©ç”¨æ—¶é—´åˆ‡ç‰‡çš„æ€æƒ³-åšåˆ°å¿«é€Ÿå“åº”ç”¨æˆ·-è®©ç”¨æˆ·è§‰å¾—å¤Ÿå¿«ã€‚"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#react-çš„æ€è·¯-cpu-æ€»è¿ç®—é‡ä¸å˜-åˆ©ç”¨æ—¶é—´åˆ‡ç‰‡çš„æ€æƒ³-åšåˆ°å¿«é€Ÿå“åº”ç”¨æˆ·-è®©ç”¨æˆ·è§‰å¾—å¤Ÿå¿«ã€‚"}},[t._v("#")]),t._v(" React çš„æ€è·¯ï¼šCPU æ€»è¿ç®—é‡ä¸å˜ï¼Œåˆ©ç”¨æ—¶é—´åˆ‡ç‰‡çš„æ€æƒ³ï¼Œåšåˆ°å¿«é€Ÿå“åº”ç”¨æˆ·ï¼Œè®©ç”¨æˆ·è§‰å¾—å¤Ÿå¿«ã€‚")]),t._v(" "),n("p",[t._v("æ‰€ä»¥ React èµ°äº†ç±»ä¼¼ CPU è°ƒåº¦çš„é€»è¾‘ï¼Œè®© æ•´ä¸ªæ›´æ–°æµç¨‹ å¯ä»¥ä¸­æ–­ã€‚æŠŠ VDOM treeï¼Œè®¾è®¡æˆé“¾è¡¨çš„ç»“æ„ï¼Œåˆ©ç”¨æµè§ˆå™¨çš„ç©ºé—²æ—¶é—´æ¥åšæ•°æ®é©±åŠ¨è§†å›¾æ›´æ–°çš„æµç¨‹ï¼Œå¦‚æœæœ‰åŠ¨ç”»æˆ–è€…ç”¨æˆ·äº¤äº’çš„ä»»åŠ¡ï¼Œå°±æŠŠä¸»è¿›ç¨‹æ§åˆ¶æƒè¿˜ç»™æµè§ˆå™¨ã€‚è¿™å°±åƒ CPU è°ƒåº¦è¿›ç¨‹ä¸€æ ·ï¼Œæˆ‘ä»¬è¦è®©é«˜ä¼˜å…ˆçº§çš„è¿›ç¨‹æˆ–è€…çŸ­è¿›ç¨‹ä¼˜å…ˆè¿è¡Œï¼Œä¸èƒ½è®©é•¿è¿›ç¨‹é•¿æœŸéœ¸å èµ„æºã€‚")]),t._v(" "),n("blockquote",[n("p",[t._v("æ ¸å¿ƒæ˜¯åº”ç”¨äº†è¿™ä¸ªåŸç”Ÿ API ï¼šrequestIdleCallbackã€‚é“¾è¡¨æ•°æ®ç»“æ„ ï¼šFiber")])]),t._v(" "),n("p",[n("img",{attrs:{src:a(362),alt:"React VDOM"}})]),t._v(" "),n("p",[t._v("é“¾è¡¨ç»“æ„çš„å½¢æˆæ˜¯åŸºäºæ ‘çš„æ·±åº¦ä¼˜å…ˆéå†")]),t._v(" "),n("p",[n("img",{attrs:{src:a(363),alt:"React VDOM"}})]),t._v(" "),n("h4",{attrs:{id:"vue3-çš„æ€è·¯-ä¼˜åŒ–æ¯ä¸ªä»»åŠ¡-è®©å®ƒæœ‰å¤šå¿«å°±å¤šå¿«-è¾¾åˆ°æŒ¤å‹-cpu-æ€»è¿ç®—é‡çš„ç›®çš„-åºŸé™¤äº†æ—¶é—´åˆ‡ç‰‡çš„æ€è·¯-ã€‚"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#vue3-çš„æ€è·¯-ä¼˜åŒ–æ¯ä¸ªä»»åŠ¡-è®©å®ƒæœ‰å¤šå¿«å°±å¤šå¿«-è¾¾åˆ°æŒ¤å‹-cpu-æ€»è¿ç®—é‡çš„ç›®çš„-åºŸé™¤äº†æ—¶é—´åˆ‡ç‰‡çš„æ€è·¯-ã€‚"}},[t._v("#")]),t._v(" Vue3 çš„æ€è·¯ï¼šä¼˜åŒ–æ¯ä¸ªä»»åŠ¡ï¼Œè®©å®ƒæœ‰å¤šå¿«å°±å¤šå¿«ï¼Œè¾¾åˆ°æŒ¤å‹ CPU æ€»è¿ç®—é‡çš„ç›®çš„ï¼ˆåºŸé™¤äº†æ—¶é—´åˆ‡ç‰‡çš„æ€è·¯ï¼‰ã€‚")]),t._v(" "),n("p",[t._v("æ ¹æ®å°¤å¤§å…¬å¸ƒçš„æ•°æ®å°±æ˜¯ Vue3 update æ€§èƒ½æå‡äº† 1.3~2 å€ï¼Œå…·ä½“ä¼˜åŒ–ç‚¹ä¸‹é¢å°èŠ‚ä»‹ç»ã€‚")]),t._v(" "),n("blockquote",[n("p",[t._v("ä¸ºä»€ä¹ˆç§»é™¤æ—¶é—´åˆ‡ç‰‡å‘¢ï¼Ÿå› ä¸ºæ¯ä¸ªä»»åŠ¡æè‡´ä¼˜åŒ–åï¼Œcpu æ€»è¿ç®—é‡é™ä½ï¼Œå·²ç»ä¸éœ€è¦æ—¶é—´åˆ‡ç‰‡äº†ã€‚ å°¤å¤§äº²è‡ªè§£é‡Šå¯ä»¥çœ‹"),n("a",{attrs:{href:"https://github.com/Vuejs/rfcs/issues/89",target:"_blank",rel:"noopener noreferrer"}},[t._v("è¿™é‡Œ"),n("OutboundLink")],1)])]),t._v(" "),n("h4",{attrs:{id:"ä¸ºä»€ä¹ˆä¼šèµ°ä¸åŒçš„è·¯å‘¢"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ä¸ºä»€ä¹ˆä¼šèµ°ä¸åŒçš„è·¯å‘¢"}},[t._v("#")]),t._v(" ä¸ºä»€ä¹ˆä¼šèµ°ä¸åŒçš„è·¯å‘¢ï¼Ÿ")]),t._v(" "),n("p",[t._v("React å’Œ Vue è™½ç„¶éƒ½æœ‰ data->VDOM->DOM->view è¿™æ ·çš„è½¬æ¢æ€æƒ³ï¼Œä½†å…·ä½“çš„æ•°æ®é©±åŠ¨çš„åŸç†ä¸åŒã€‚"),n("br"),t._v("\nå½“æ•°æ®æ”¹å˜æ—¶ï¼Œ React ä¼šé€’å½’æ¯”å¯¹æ•´ä¸ªæ–°æ—§ VirtualDOM æ ‘ï¼Œæ‰¾å‡ºéœ€è¦å˜åŠ¨çš„èŠ‚ç‚¹ï¼Œç„¶åä¸€æ°”å‘µæˆçš„æ›´æ–°ã€‚æ‰€ä»¥å¯¹äº React æ¥è¯´ï¼Œjs æ‰§è¡Œæ—¶é—´é•¿ä¸»è¦å°±åœ¨äºæ–°æ—§ VDOM tree å¯¹æ¯”æ—¶é—´é•¿ï¼Œå°±ç®— diff ç®—æ³•å†å¿«ä¹Ÿé¿å…ä¸äº†è¿™ä¸ªè¿‡ç¨‹é•¿ï¼Œæ‰€ä»¥ React èµ°äº†æ—¶é—´åˆ‡ç‰‡çš„æ€è·¯ã€‚")]),t._v(" "),n("p",[t._v("Vue ä¸ React ä¸åŒçš„æ•°æ®é©±åŠ¨æ›´æ–°æœºåˆ¶è®© Vue æœ‰æ›´å¤šçš„ä¼˜åŒ–ç©ºé—´ï¼š"),n("br"),t._v("\n1ï¸âƒ£ åœ¨ç»„ä»¶çº§åˆ«é‡‡ç”¨çš„æ˜¯å“åº”å¼çš„æœºåˆ¶ï¼Œå¯ä»¥è®©æ›´æ–°ç²¾ç¡®åœ°å®šä½åˆ°å…·ä½“çš„ç»„ä»¶ï¼ˆä¸éœ€è¦æ•´æ£µæ ‘å¯¹æ¯”ï¼‰ï¼Œå“åº”å¼æœ‰ä¸€å®šçš„ä¼˜åŒ–ç©ºé—´"),n("br"),t._v("\n2ï¸âƒ£ ç»„ä»¶å†…éƒ¨ä½¿ç”¨çš„æ˜¯ VDOM diffï¼Œå¹¶ä¸”æ˜¯è¾¹å¯¹æ¯”å˜æ›´æ–°ï¼Œä¸æ˜¯ä¸€æ°”å‘µæˆã€‚diff ç®—æ³•å¯ä»¥è¿›ä¸€æ­¥ä¼˜åŒ–ã€‚"),n("br"),t._v("\n3ï¸âƒ£ ä½¿ç”¨æ¨¡æ¿ç›¸æ¯” JSXï¼Œæ˜“äºé™æ€åˆ†æ(AOT)ï¼Œä¹Ÿè®©å®ƒæœ‰æ›´å¤šä¼˜åŒ–çš„ç©ºé—´ã€‚")]),t._v(" "),n("blockquote",[n("p",[t._v("React ä¹Ÿå¯ä»¥åšç»„ä»¶æ ‘çº§åˆ«çš„ä¼˜åŒ–(å³é˜²æ­¢ä¸å¿…è¦çš„å­ç»„ä»¶é‡æ–°å‘ˆç°)éœ€è¦æ˜¾å¼ä½¿ç”¨ usemoï¼Œä½†æ˜¯ç”¨å¥½ usemo ä¸æ˜¯ä¸€ä»¶å®¹æ˜“çš„äº‹ã€‚")])]),t._v(" "),n("h3",{attrs:{id:"template-é¢„å­—ç¬¦ä¸²åŒ–"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#template-é¢„å­—ç¬¦ä¸²åŒ–"}},[t._v("#")]),t._v(" template é¢„å­—ç¬¦ä¸²åŒ–")]),t._v(" "),n("p",[t._v("é€šè¿‡ template é¢„å­—ç¬¦ä¸²åŒ–ä½¿ VDOM èŠ‚ç‚¹æ•°é‡å‡å°‘ï¼ŒDOM tree ç»“æ„å˜å¾—ç®€å•ï¼Œéå†æ—¶é—´ç¼©çŸ­ã€‚"),n("br"),t._v("\nVue3 æ¨¡æ¿ç¼–è¯‘çš„æ—¶å€™ä¼šå»è¯†åˆ«åŠ¨/é™æ¯”ä¾‹ï¼Œå½“é‡åˆ°å¤§é‡è¿ç»­çš„é™æ€å†…å®¹æ—¶ï¼Œä¼šç›´æ¥å°†ä»–ç¼–è¯‘ä¸ºä¸€ä¸ªæ™®é€šçš„å­—ç¬¦ä¸²èŠ‚ç‚¹ã€‚")]),t._v(" "),n("p",[t._v("ğŸŒ° æ¯”å¦‚è¿™æ ·çš„ä»£ç ç‰‡æ®µ")]),t._v(" "),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("menu-bar-container"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("logo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("ul")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("nav"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("èœå•é¡¹ 1 "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("èœå•é¡¹ 2 "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      ...\n      "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("èœå•é¡¹ 19"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("èœå•é¡¹ 20"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("ul")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("user"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("span")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("user"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("{{user.name}}"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("span")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n")])])]),n("p",[t._v("é™¤äº† span å…ƒç´ æ˜¯åŠ¨æ€å…ƒç´ ä¹‹å¤–ï¼Œå…¶ä½™éƒ½æ˜¯é™æ€èŠ‚ç‚¹ã€‚åœ¨ç¼–è¯‘é˜¶æ®µï¼Œä¼šæŠŠè¿ç»­çš„é™æ€å…ƒç´ éƒ¨åˆ†åˆå¹¶ä¸ºå­—ç¬¦ä¸²ã€‚å¯¹æ¯” vue2.x æ¥çœ‹å¦‚å›¾ï¼š\n"),n("img",{attrs:{src:a(364),alt:"templateä¸å­—ç¬¦ä¸²åŒ–"}})]),t._v(" "),n("h3",{attrs:{id:"é™æ€æ ‡è®°ã€é™æ€æå‡ä¸äº‹ä»¶ç¼“å­˜"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#é™æ€æ ‡è®°ã€é™æ€æå‡ä¸äº‹ä»¶ç¼“å­˜"}},[t._v("#")]),t._v(" é™æ€æ ‡è®°ã€é™æ€æå‡ä¸äº‹ä»¶ç¼“å­˜")]),t._v(" "),n("p",[t._v("åˆ›å»º VDOM çš„æ—¶å€™ä¼šæ ¹æ® VDOM çš„å†…å®¹æ˜¯å¦å¯ä»¥å˜åŒ–ï¼Œä¸ºå…¶æ·»åŠ é™æ€æ ‡è®° PatchFlagï¼Œå¦‚æœ patchFlag = -1 è¡¨ç¤ºå½“å‰èŠ‚ç‚¹æ˜¯é™æ€çš„ï¼Œæ°¸è¿œä¸ä¼šç”¨ä½œ diffã€‚åº”ç”¨é™æ€æ ‡è®°ï¼Œå¤§å¤§çš„å‡å°‘äº† diff å·¥ä½œé‡ï¼Œå‰ªçŸ­ diff ç®—æ³•è¿è¡Œçš„æ—¶é—´ã€‚"),n("br"),t._v("\né™æ€æå‡æ˜¯æŒ‡æ ‡è®°ä¸ºé™æ€çš„èŠ‚ç‚¹ï¼Œä¼šç¼“å­˜åœ¨ render å‡½æ•°ä¹‹å¤–ï¼Œåˆ›å»º VDOM çš„æ—¶å€™ç›´æ¥å¼•ç”¨ï¼Œä¸éœ€è¦é‡æ–°åˆ›å»ºã€‚")]),t._v(" "),n("p",[t._v("ğŸŒ° ç”¨ä¸‹é¢çš„ä»£ç ä¸¾ä¾‹")]),t._v(" "),n("div",{staticClass:"language-Vue extra-class"},[n("pre",{pre:!0,attrs:{class:"language-vue"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("logo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("guide"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      è¿›å…¥ä¸»é¡µ\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("user"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("span")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("hello"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("ä½ å¥½,"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("span")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("span")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("user"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("{{ user.name }}"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("span")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("p",[t._v("span å…ƒç´  è¿™è¡Œä»£ç æ˜¯é™æ€çš„ï¼Œåœ¨æ²¡æœ‰é™æ€æ ‡è®°çš„æ—¶å€™ï¼Œæ¯æ¬¡ diff å®ƒä¹Ÿä¼šå‚ä¸ï¼Œæ¸²æŸ“ä¹‹å‰æ€»æ˜¯ä¼šè¢«é‡æ–°åˆ›å»ºã€‚"),n("br"),t._v("\nåŠ å…¥é™æ€æ ‡è®°åï¼Œå®ƒå°±ä¸ç”¨å‚åŠ  diff æµç¨‹äº†ã€‚"),n("br"),t._v("\næœ‰äº†é™æ€æå‡ä¹‹åï¼Œå‡è®¾å†…å­˜ä¸­_hosted_1 è¿™ä¸ªå˜é‡ä»£è¡¨ span å…ƒç´ çš„ VDOMï¼Œæ¯æ¬¡æ¸²æŸ“çš„æ—¶å€™åªè¦å– _hoisted_1 å³å¯ã€‚")]),t._v(" "),n("p",[n("img",{attrs:{src:a(365),alt:"Vue3 diff"}})]),t._v(" "),n("h4",{attrs:{id:"äº‹ä»¶ä¾¦å¬ç¼“å­˜"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#äº‹ä»¶ä¾¦å¬ç¼“å­˜"}},[t._v("#")]),t._v(" äº‹ä»¶ä¾¦å¬ç¼“å­˜")]),t._v(" "),n("p",[t._v("ä¸ VDOM é™æ€æå‡ç›¸ä¼¼ï¼Œäº‹ä»¶çš„å›è°ƒå‡½æ•°ï¼Œé€šå¸¸éƒ½æ˜¯ä¸å˜çš„ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œå‡½æ•°ä¼šè¢«ç¼“å­˜èµ·æ¥ï¼Œä¸ç”¨è¿½è¸ªå®ƒçš„å˜åŒ–ã€‚äº‹ä»¶å“åº”æ—¶ï¼Œç›´æ¥ä»å†…å­˜ä¸­å–å‡ºå‡½æ•°æ‰§è¡Œã€‚")]),t._v(" "),n("blockquote",[n("p",[t._v("ç–‘é—®: é™æ€æ ‡è®°é™æ€æå‡ï¼ŒReact ä¸ºå•¥ä¸åšå‘¢?")])]),t._v(" "),n("h3",{attrs:{id:"diff-ç®—æ³•å†…éƒ¨ä¼˜åŒ–"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#diff-ç®—æ³•å†…éƒ¨ä¼˜åŒ–"}},[t._v("#")]),t._v(" diff ç®—æ³•å†…éƒ¨ä¼˜åŒ–")]),t._v(" "),n("p",[t._v("ç®—æ³•å¤æ‚ï¼Œå¾ˆéš¾æŠ½è±¡å‡ºæµç¨‹å›¾ã€‚ç®€å•åˆ—ä¸€ä¸‹åŒºåˆ«å’Œæ€§èƒ½å¯¹æ¯”ï¼š"),n("br"),t._v("\nReact çš„ DOM tree æ˜¯é“¾è¡¨ç»“æ„ï¼Œæ³¨å®šåªèƒ½ä»å•è¾¹å¼€å§‹æ¯”è¾ƒï¼ŒåŸåœ°å¤ç”¨ã€ä¸‹æ ‡é€’å¢æ³•ç§»åŠ¨å¤ç”¨ã€‚"),n("br"),t._v("\nVue2 åŒç«¯æ¯”è¾ƒï¼Œæ¯”è¾ƒæ—¶æ€»å…±æœ‰äº”ç§æƒ…å†µï¼ˆå››ç§ç›¸ç­‰ï¼‹ä¸€ç§ä¸ç›¸ç­‰ï¼‰ï¼Œåˆ†åˆ«åšä¸åŒçš„å¤„ç†ã€‚ç›¸æ¯” Reactï¼ŒåŒç«¯æ¯”è¾ƒæ›´èƒ½èŠ‚çº¦æ¬¡æ•°ã€‚"),n("br"),t._v("\nVue3 å…ˆåŒç«¯æ¯”è¾ƒï¼ŒåŸåœ°å¤ç”¨ã€‚ç„¶åæœ€é•¿é€’å¢å­åºåˆ—ç§»åŠ¨å¤ç”¨ã€‚(æœ€é•¿é€’å¢å­åºåˆ—ä½¿ç”¨çš„æ˜¯â€œè´ªå¿ƒ + äºŒåˆ†æŸ¥æ‰¾â€çš„ç®—æ³•)ã€‚æ¯” Vue2 æ›´å¿«ã€‚")]),t._v(" "),n("h3",{attrs:{id:"å“åº”å¼-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å“åº”å¼-2"}},[t._v("#")]),t._v(" å“åº”å¼")]),t._v(" "),n("p",[t._v("ä» Vue2.x åˆ° Vue3.0ï¼Œå“åº”å¼æ”¹å†™æå‡äº†åˆå§‹åŒ–æ€§èƒ½ä¸Šé¢å·²ç»è¯´è¿‡äº†ã€‚ä» 3.0 åˆ° 3.2ï¼Œå“åº”å¼è¿›ä¸€æ­¥ä¼˜åŒ–ï¼Œæ›´æ–°æ€§èƒ½è¿›å¾—åˆ°äº†æ˜¾è‘—æå‡ã€‚"),n("br"),t._v("\nå®˜æ–¹æ•°æ®ï¼šä¾èµ–è·Ÿè¸ªé€Ÿåº¦æå‡çº¦ 40%ã€ref è¯»å–é€Ÿåº¦æå‡çº¦ 260%ï¼Œå†™å…¥é€Ÿåº¦æå‡çº¦ 50%ã€‚")]),t._v(" "),n("p",[t._v("å“åº”å¼çš„ä¼˜åŒ–æ˜¯ä»£ç ç»†èŠ‚çš„ä¼˜åŒ–ï¼Œå¤§æ¦‚æ€æƒ³ä¹Ÿæ˜¯ç”¨ç©ºé—´æ¢æ—¶é—´ã€‚å¢åŠ å‡ ä¸ªæ ‡è®°ï¼Œå¹¶ä¸”å·§å¦™çš„è¿ç”¨ä½è¿ç®—ã€‚æ¨èé˜…è¯»"),n("a",{attrs:{href:"https://juejin.cn/post/6995732683435278344",target:"_blank",rel:"noopener noreferrer"}},[t._v("è¿™ç¯‡æ–‡ç« "),n("OutboundLink")],1)]),t._v(" "),n("p",[n("small",[n("i",[t._v("PS:çœŸæ»´éš¾ï¼/(ã„’ o ã„’)/~~ ï¼Œå¸Œæœ›æœ‰æœä¸€æ—¥çœ‹å¾—æ˜æ˜ç™½ç™½ã€çœŸçœŸåˆ‡åˆ‡ã€‚")])])]),t._v(" "),n("h2",{attrs:{id:"ä½“ç§¯"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ä½“ç§¯"}},[t._v("#")]),t._v(" ä½“ç§¯")]),t._v(" "),n("h3",{attrs:{id:"vue-tree-shaking"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#vue-tree-shaking"}},[t._v("#")]),t._v(" Vue tree shaking")]),t._v(" "),n("p",[t._v("æºç æ”¯æŒ tree shakingï¼Œæ‰“åŒ…ä½“ç§¯å˜å°ã€‚ä¹‹å‰æ—¶å¼•å…¥æ•´ä¸ª Vue ã€ç°åœ¨æ˜¯å¼•å…¥ Vue ä¸­çš„ å„ä¸ª API ç»„åˆä½¿ç”¨ï¼Œæ²¡ç”¨åˆ°çš„å°±ä¸ä¼šæ‰“åŒ…ã€‚")])])}),[],!1,null,null,null);s.default=e.exports}}]);