(window.webpackJsonp=window.webpackJsonp||[]).push([[91],{478:function(t,a,s){"use strict";s.r(a);var n=s(14),e=Object(n.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"vue-其他考点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue-其他考点"}},[t._v("#")]),t._v(" vue 其他考点")]),t._v(" "),a("h2",{attrs:{id:"data-为何是函数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#data-为何是函数"}},[t._v("#")]),t._v(" data 为何是函数")]),t._v(" "),a("ul",[a("li",[t._v("vue 文件最后是一个 class")]),t._v(" "),a("li",[t._v("如果 data 仍然是一个纯粹的对象，则所有的实例将共享 data")]),t._v(" "),a("li",[t._v("组件复用下,data 是函数，不会造成数据同时指向一处的问题。")])]),t._v(" "),a("h2",{attrs:{id:"ajax-请求应该放在哪个生命周期-mounted"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ajax-请求应该放在哪个生命周期-mounted"}},[t._v("#")]),t._v(" ajax 请求应该放在哪个生命周期？ "),a("strong",[t._v("mounted")])]),t._v(" "),a("ul",[a("li",[t._v("首先，js 是单线程，ajax 异步获取数据")]),t._v(" "),a("li",[t._v("生命周期钩子 callback 中异步操作会放入事件队列，而不会在这个钩子函数中执行。所以 created 和 mounted 中请求数据这个动作在时间上的差别十分微小。")]),t._v(" "),a("li",[t._v("生命周期钩子函数中的异步赋值，vue 会在一遍流程走完之后执行 update。不会立即更新数据，所以不会导致虚拟 DOM 重新加载，也不影响页面中静态的部分加载。")]),t._v(" "),a("li",[t._v("另外，给数据赋值然后更新 DOM 也是异步的，侦听到数据变化，Vue 将开启一个队列，并缓冲在同一事件循环中发生的所有数据变更，去掉重复赋值然后更新。")]),t._v(" "),a("li",[t._v("结论，放在 mounted 之前没有性能优化，保证逻辑的统一性，放在 mounted。")])]),t._v(" "),a("h2",{attrs:{id:"beforedwstory-里面干嘛"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#beforedwstory-里面干嘛"}},[t._v("#")]),t._v(" beforeDwstory 里面干嘛")]),t._v(" "),a("ul",[a("li",[t._v("解绑自定义事件")]),t._v(" "),a("li",[t._v("清除定时器")]),t._v(" "),a("li",[t._v("解绑自定义的 DOM 事件 如 widow.scroll 等")])]),t._v(" "),a("h2",{attrs:{id:"全局对象-vs-vuex"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#全局对象-vs-vuex"}},[t._v("#")]),t._v(" 全局对象 vs vuex")]),t._v(" "),a("ul",[a("li",[t._v("数据不是相应式的 view 无法自动更新，其他组件也无法自动同步更新。")]),t._v(" "),a("li",[t._v("修改无法跟踪 watch。vuex 只能调用特定的方法来实现数据修改，可预测，可追踪。")]),t._v(" "),a("li",[t._v("不符合组件化开发的 取数据要到最顶层的 window 上面，项目大了，混乱")])]),t._v(" "),a("h2",{attrs:{id:"vue-常见性能优化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue-常见性能优化"}},[t._v("#")]),t._v(" vue 常见性能优化")]),t._v(" "),a("h3",{attrs:{id:"vue-层级的优化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue-层级的优化"}},[t._v("#")]),t._v(" vue 层级的优化")]),t._v(" "),a("ul",[a("li",[t._v("合理使用 v-show v-if")]),t._v(" "),a("li",[t._v("v-for 加 key 避免与 v-if 一起使用")]),t._v(" "),a("li",[t._v("合理使用 computed 因为有缓存")]),t._v(" "),a("li",[t._v("data 层级不要太深。watch 深度监听 ， 层级太深可能导致页面卡一下")]),t._v(" "),a("li",[t._v("该销毁的及时销毁")]),t._v(" "),a("li",[t._v("合理使用 异步组件")]),t._v(" "),a("li",[t._v("合理使用 keep-alive")])]),t._v(" "),a("h3",{attrs:{id:"webpack-层级的优化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webpack-层级的优化"}},[t._v("#")]),t._v(" webpack 层级的优化")]),t._v(" "),a("ul",[a("li",[t._v("《webpack》 章节")])]),t._v(" "),a("h3",{attrs:{id:"前端通用的性能优化-图片懒加载、减少请求次数等"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前端通用的性能优化-图片懒加载、减少请求次数等"}},[t._v("#")]),t._v(" 前端通用的性能优化，图片懒加载、减少请求次数等")]),t._v(" "),a("ul",[a("li",[t._v("《优化》章节")])]),t._v(" "),a("h2",{attrs:{id:"上传操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#上传操作"}},[t._v("#")]),t._v(" 上传操作")]),t._v(" "),a("h3",{attrs:{id:"传统表单"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#传统表单"}},[t._v("#")]),t._v(" 传统表单")]),t._v(" "),a("ul",[a("li",[t._v("传统写法")])]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("form")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("enctype")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("multipart/form-data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("action")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("/api/upload"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("method")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("post"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 传统表单上传 --\x3e")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("input")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("submit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("form")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("ul",[a("li",[t._v("转换为 js 写法")])]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("input")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("@change")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("handleFileChange"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n")])])]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("handleFileChange")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" target "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" files "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("files"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("files"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" uploadFile "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" files"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" formData "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FormData")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    formData"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("append")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("uploadFile"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" uploadFile"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" result "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" axios"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("post")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/api/upload"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" formData"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("headers")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"Content-Type"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"multipart/form-data"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h2",{attrs:{id:"面试题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#面试题"}},[t._v("#")]),t._v(" 面试题")]),t._v(" "),a("h3",{attrs:{id:"为啥要改写"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#为啥要改写"}},[t._v("#")]),t._v(" 为啥要改写")]),t._v(" "),a("p",[t._v("1️⃣ 对 ts 弱支持"),a("br"),t._v("\n2️⃣ 功能点的数据和逻辑分散：Vue2.x 是选项配置式（Options API）的写法"),a("br"),t._v("\n3️⃣ 组件化不彻底：纯逻辑复用不优雅，mixin 痛点较多"),a("br"),t._v("\n4️⃣ 响应式不完善：检测不到对象属性的添加和删除、无法监控到数组下标的变化"),a("br"),t._v("\n在 Vue3 中，这些缺点都改掉了，甚至比 React 做的更好")]),t._v(" "),a("h3",{attrs:{id:"为什么-vue3-可以监听数组下标变化、属性变化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#为什么-vue3-可以监听数组下标变化、属性变化"}},[t._v("#")]),t._v(" 为什么 Vue3 可以监听数组下标变化、属性变化")]),t._v(" "),a("p",[t._v("Vue3 用了 Proxy 有这个能力，Vue2 用的是 defineProperty 没有这个能力。")]),t._v(" "),a("ul",[a("li",[t._v("Object.defineProperty 只能作用于单个属性，它无法“预知”对象将来可能会有哪些新的属性，因此它无法监测到属性的添加或删除。同样，由于 JavaScript 的数组其实是一种特殊的对象，数组的索引其实是对象的属性，Object.defineProperty 也无法监测到数组索引的改变。")]),t._v(" "),a("li",[t._v("因为 Proxy 不是直接作用于对象的某个属性，而是作用于整个对象。因此，无论对象的哪个属性被访问或修改，或者有新的属性被添加或删除，Proxy 都可以拦截到。")])])])}),[],!1,null,null,null);a.default=e.exports}}]);