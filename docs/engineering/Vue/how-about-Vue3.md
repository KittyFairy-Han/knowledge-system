<!--
 * @Author: 鱼小柔
 * @Date: 2021-11-21 15:42:21
 * @LastEditors: your name
 * @LastEditTime: 2021-11-21 21:49:21
 * @Description: vue3 好在哪里
-->
# vue3 好
## 使用体验方面
相比较 React Vue2.x 使用上有一些缺点。  
① 逻辑散  
② 对ts弱支持  
③ 组件化不彻底
在Vue3中，这些缺点都改掉了。  
### 一个功能逻辑分布散
假设一个列表筛选的业务场景：
Vue 2.x 中逻辑分布可能是这样的：数据和逻辑被分散在了各个option中  
得益于 composition api  ，Vue3.x 中逻辑分布聚合了
![vue3.x逻辑分布散](./static/composition.jpg)
### 组件化不彻底


## 运行性能方面
### 更新
proxy 代替 defineproperty
而响应式在性能方面的优化其实是体现在把嵌套层级较深的对象变成响应式的场景。在 Vue 2 的实现中，在组件初始化阶段把数据变成响应式时，遇到子属性仍然是对象的情况，会递归执行 Object.defineProperty 定义子对象的响应式；而在 Vue 3 的实现中，只有在对象属性被访问的时候才会判断子属性的类型来决定要不要递归执行 reactive，这其实是一种延时定义子对象响应式的实现，在性能上会有一定的提升。

更高效的 ref 实现（读取速度提升约 260%，写入速度提升约 50%）
依赖跟踪速度提升约 40%
内存使用量减少约 17%