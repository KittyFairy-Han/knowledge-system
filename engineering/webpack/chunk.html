<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>VuePress</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="image/logo.png">
    <meta name="description" content="">
    
    <link rel="preload" href="/knowledge-system/assets/css/0.styles.103185be.css" as="style"><link rel="preload" href="/knowledge-system/assets/js/app.714e5304.js" as="script"><link rel="preload" href="/knowledge-system/assets/js/2.7dc4c8b6.js" as="script"><link rel="preload" href="/knowledge-system/assets/js/10.3cd1ac0a.js" as="script"><link rel="prefetch" href="/knowledge-system/assets/js/11.1f0c020c.js"><link rel="prefetch" href="/knowledge-system/assets/js/12.3cfc29e1.js"><link rel="prefetch" href="/knowledge-system/assets/js/13.1a7b4dbb.js"><link rel="prefetch" href="/knowledge-system/assets/js/14.ea8bf876.js"><link rel="prefetch" href="/knowledge-system/assets/js/15.47ce5ddc.js"><link rel="prefetch" href="/knowledge-system/assets/js/16.6315a77c.js"><link rel="prefetch" href="/knowledge-system/assets/js/17.6b17a8c3.js"><link rel="prefetch" href="/knowledge-system/assets/js/18.4a402bb3.js"><link rel="prefetch" href="/knowledge-system/assets/js/19.5d3044cc.js"><link rel="prefetch" href="/knowledge-system/assets/js/20.34c8a3bd.js"><link rel="prefetch" href="/knowledge-system/assets/js/21.68eb87ef.js"><link rel="prefetch" href="/knowledge-system/assets/js/22.d7dedf80.js"><link rel="prefetch" href="/knowledge-system/assets/js/23.fbe53115.js"><link rel="prefetch" href="/knowledge-system/assets/js/24.2eb5b0a4.js"><link rel="prefetch" href="/knowledge-system/assets/js/25.f33fd987.js"><link rel="prefetch" href="/knowledge-system/assets/js/26.0f0c6b6d.js"><link rel="prefetch" href="/knowledge-system/assets/js/27.df4e53d4.js"><link rel="prefetch" href="/knowledge-system/assets/js/28.a91a9f48.js"><link rel="prefetch" href="/knowledge-system/assets/js/29.930754f7.js"><link rel="prefetch" href="/knowledge-system/assets/js/3.e98df960.js"><link rel="prefetch" href="/knowledge-system/assets/js/30.36817a58.js"><link rel="prefetch" href="/knowledge-system/assets/js/31.23f06199.js"><link rel="prefetch" href="/knowledge-system/assets/js/32.d5086c64.js"><link rel="prefetch" href="/knowledge-system/assets/js/33.486ded50.js"><link rel="prefetch" href="/knowledge-system/assets/js/34.c7f60886.js"><link rel="prefetch" href="/knowledge-system/assets/js/35.29ebd85a.js"><link rel="prefetch" href="/knowledge-system/assets/js/36.c1cc10b1.js"><link rel="prefetch" href="/knowledge-system/assets/js/37.5c1be313.js"><link rel="prefetch" href="/knowledge-system/assets/js/38.fc78e723.js"><link rel="prefetch" href="/knowledge-system/assets/js/39.139a8972.js"><link rel="prefetch" href="/knowledge-system/assets/js/4.f7e4cda9.js"><link rel="prefetch" href="/knowledge-system/assets/js/40.86a2f9bd.js"><link rel="prefetch" href="/knowledge-system/assets/js/41.4a3de39e.js"><link rel="prefetch" href="/knowledge-system/assets/js/42.9ae85e2b.js"><link rel="prefetch" href="/knowledge-system/assets/js/43.e2a48139.js"><link rel="prefetch" href="/knowledge-system/assets/js/44.689a974a.js"><link rel="prefetch" href="/knowledge-system/assets/js/45.475bfab5.js"><link rel="prefetch" href="/knowledge-system/assets/js/46.a767a700.js"><link rel="prefetch" href="/knowledge-system/assets/js/47.d9cad9dd.js"><link rel="prefetch" href="/knowledge-system/assets/js/48.d98b9d73.js"><link rel="prefetch" href="/knowledge-system/assets/js/49.1e9754b0.js"><link rel="prefetch" href="/knowledge-system/assets/js/5.f7415623.js"><link rel="prefetch" href="/knowledge-system/assets/js/50.9b9d16d2.js"><link rel="prefetch" href="/knowledge-system/assets/js/51.b9e4acd8.js"><link rel="prefetch" href="/knowledge-system/assets/js/52.660ac118.js"><link rel="prefetch" href="/knowledge-system/assets/js/53.79f9d722.js"><link rel="prefetch" href="/knowledge-system/assets/js/54.d5dc1a34.js"><link rel="prefetch" href="/knowledge-system/assets/js/55.7ed246e1.js"><link rel="prefetch" href="/knowledge-system/assets/js/56.8721d5ce.js"><link rel="prefetch" href="/knowledge-system/assets/js/57.c50ca4e9.js"><link rel="prefetch" href="/knowledge-system/assets/js/58.edcefda7.js"><link rel="prefetch" href="/knowledge-system/assets/js/59.b380e9e4.js"><link rel="prefetch" href="/knowledge-system/assets/js/6.67148f7d.js"><link rel="prefetch" href="/knowledge-system/assets/js/60.bf20a516.js"><link rel="prefetch" href="/knowledge-system/assets/js/61.f9d9f7fd.js"><link rel="prefetch" href="/knowledge-system/assets/js/62.0faa0619.js"><link rel="prefetch" href="/knowledge-system/assets/js/63.9194c352.js"><link rel="prefetch" href="/knowledge-system/assets/js/64.5d5671c2.js"><link rel="prefetch" href="/knowledge-system/assets/js/65.8de437dc.js"><link rel="prefetch" href="/knowledge-system/assets/js/66.d14d8353.js"><link rel="prefetch" href="/knowledge-system/assets/js/67.6debd2ed.js"><link rel="prefetch" href="/knowledge-system/assets/js/68.dce632ea.js"><link rel="prefetch" href="/knowledge-system/assets/js/69.ff900245.js"><link rel="prefetch" href="/knowledge-system/assets/js/7.4616fabc.js"><link rel="prefetch" href="/knowledge-system/assets/js/70.662fb310.js"><link rel="prefetch" href="/knowledge-system/assets/js/71.d05ef484.js"><link rel="prefetch" href="/knowledge-system/assets/js/72.87b5a27e.js"><link rel="prefetch" href="/knowledge-system/assets/js/73.1d3e5940.js"><link rel="prefetch" href="/knowledge-system/assets/js/74.b0a505b3.js"><link rel="prefetch" href="/knowledge-system/assets/js/75.fbf9ba52.js"><link rel="prefetch" href="/knowledge-system/assets/js/76.50354f5d.js"><link rel="prefetch" href="/knowledge-system/assets/js/77.8e05afc8.js"><link rel="prefetch" href="/knowledge-system/assets/js/78.4be4a9bc.js"><link rel="prefetch" href="/knowledge-system/assets/js/79.a7b65e50.js"><link rel="prefetch" href="/knowledge-system/assets/js/8.36a32838.js"><link rel="prefetch" href="/knowledge-system/assets/js/80.e784b039.js"><link rel="prefetch" href="/knowledge-system/assets/js/81.e32e5881.js"><link rel="prefetch" href="/knowledge-system/assets/js/82.e1a28ad9.js"><link rel="prefetch" href="/knowledge-system/assets/js/83.941dfaef.js"><link rel="prefetch" href="/knowledge-system/assets/js/9.3c66ddc9.js">
    <link rel="stylesheet" href="/knowledge-system/assets/css/0.styles.103185be.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/knowledge-system/" class="home-link router-link-active"></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/knowledge-system/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/knowledge-system/CSS/layout/" class="nav-link">
  CSS
</a></div><div class="nav-item"><a href="/knowledge-system/JS/" class="nav-link">
  JS
</a></div><div class="nav-item"><a href="/knowledge-system/React/" class="nav-link">
  React
</a></div><div class="nav-item"><a href="/knowledge-system/Vue/" class="nav-link">
  Vue
</a></div><div class="nav-item"><a href="/knowledge-system/broswer/work/" class="nav-link">
  æµè§ˆå™¨
</a></div><div class="nav-item"><a href="/knowledge-system/engineering/" class="nav-link router-link-active">
  å·¥ç¨‹åŒ–
</a></div><div class="nav-item"><a href="/knowledge-system/scene/lottieUsage/" class="nav-link">
  å…¶ä»–
</a></div><div class="nav-item"><a href="/knowledge-system/web3d/" class="nav-link">
  web3d
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/knowledge-system/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/knowledge-system/CSS/layout/" class="nav-link">
  CSS
</a></div><div class="nav-item"><a href="/knowledge-system/JS/" class="nav-link">
  JS
</a></div><div class="nav-item"><a href="/knowledge-system/React/" class="nav-link">
  React
</a></div><div class="nav-item"><a href="/knowledge-system/Vue/" class="nav-link">
  Vue
</a></div><div class="nav-item"><a href="/knowledge-system/broswer/work/" class="nav-link">
  æµè§ˆå™¨
</a></div><div class="nav-item"><a href="/knowledge-system/engineering/" class="nav-link router-link-active">
  å·¥ç¨‹åŒ–
</a></div><div class="nav-item"><a href="/knowledge-system/scene/lottieUsage/" class="nav-link">
  å…¶ä»–
</a></div><div class="nav-item"><a href="/knowledge-system/web3d/" class="nav-link">
  web3d
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>æ¨¡å—åŒ–ã€ç»„ä»¶åŒ–å’Œè®¾è®¡æ¨¡å¼</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/knowledge-system/engineering/design/modularity.html" class="sidebar-link">æ¨¡å—åŒ–</a></li><li><a href="/knowledge-system/engineering/design/componential.html" class="sidebar-link">ç»„ä»¶åŒ–</a></li><li><a href="/knowledge-system/engineering/design/design-pattern.html" class="sidebar-link">è®¾è®¡æ¨¡å¼</a></li></ul></section></li><li><a href="/knowledge-system/engineering/vdom/" class="sidebar-link">vdom</a></li><li><section class="sidebar-group depth-0"><a href="/knowledge-system/engineering/webpack/" class="sidebar-heading clickable router-link-active open"><span>webpack</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/knowledge-system/engineering/webpack/main-flow.html" class="sidebar-link">ä¸»æµç¨‹ï¼ˆä¸»çº¿å‰§æƒ…ï¼‰</a></li><li><a href="/knowledge-system/engineering/webpack/chunk.html" aria-current="page" class="active sidebar-link">chunk</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/knowledge-system/engineering/webpack/chunk.html#æ‹†åˆ†-chunk-çš„æ„ä¹‰" class="sidebar-link">æ‹†åˆ† chunk çš„æ„ä¹‰</a></li><li class="sidebar-sub-header"><a href="/knowledge-system/engineering/webpack/chunk.html#chunk-æ¥æº" class="sidebar-link">chunk æ¥æº</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/knowledge-system/engineering/webpack/chunk.html#entry" class="sidebar-link">entry</a></li><li class="sidebar-sub-header"><a href="/knowledge-system/engineering/webpack/chunk.html#import" class="sidebar-link">import()</a></li><li class="sidebar-sub-header"><a href="/knowledge-system/engineering/webpack/chunk.html#optimization-splitchunk" class="sidebar-link">optimization.splitchunk</a></li><li class="sidebar-sub-header"><a href="/knowledge-system/engineering/webpack/chunk.html#è¡¥å……è¯´æ˜" class="sidebar-link">è¡¥å……è¯´æ˜</a></li></ul></li><li class="sidebar-sub-header"><a href="/knowledge-system/engineering/webpack/chunk.html#ç¤ºä¾‹ä½¿ç”¨" class="sidebar-link">ç¤ºä¾‹ä½¿ç”¨</a></li><li class="sidebar-sub-header"><a href="/knowledge-system/engineering/webpack/chunk.html#å‚è€ƒæ–‡æ¡£" class="sidebar-link">å‚è€ƒæ–‡æ¡£</a></li></ul></li><li><a href="/knowledge-system/engineering/webpack/optimization.html" class="sidebar-link">ä¼˜åŒ–</a></li><li><a href="/knowledge-system/engineering/webpack/pluggable.html" class="sidebar-link">one-project-to-multiple-app</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="webpack-chunk"><a href="#webpack-chunk" class="header-anchor">#</a> webpack chunk</h1> <h2 id="æ‹†åˆ†-chunk-çš„æ„ä¹‰"><a href="#æ‹†åˆ†-chunk-çš„æ„ä¹‰" class="header-anchor">#</a> æ‹†åˆ† chunk çš„æ„ä¹‰</h2> <p>å…ˆè¯´ä¸€ä¸ªæ¦‚å¿µ code splitting<br>
ä»£ç åˆ†å‰²ï¼ˆcode splittingï¼‰â‘  å’Œé¦–å±åŠ è½½ä¼˜åŒ–æœ‰ç´§å¯†çš„å…³ç³»ï¼Œåˆ©ç”¨ code splitting çš„æ€æƒ³æŠŠä¸€äº›é¦–æ¬¡åŠ è½½ä¸ä¼šç”¨åˆ°çš„ä»£ç å•ç‹¬æ‹†åˆ†å‡ºæ¥ï¼Œé¡µé¢é¦–æ¬¡åŠ è½½æ—¶ä¸å»è¯·æ±‚è¿™éƒ¨åˆ†ä»£ç ï¼Œè¿›è€Œæé«˜é¦–å±åŠ è½½çš„é€Ÿåº¦ã€‚â‘¡ å†æ¯”å¦‚ï¼Œå¾ˆå¤šä¸šåŠ¡ä»£ç éƒ½å¼•å…¥äº†ç›¸åŒçš„ç¬¬ä¸‰æ–¹åº“ï¼Œå¹¶ä¸”è¿™ä¸ªä»£ç ä½“ç§¯æ¯”è¾ƒå¤§ï¼Œè¿™ä¸ªæ—¶å€™æŠŠè¿™éƒ¨åˆ†ä»£ç å•ç‹¬æ‹†åˆ†å‡ºæ¥ï¼Œå°±å¯ä»¥å‡å°‘å…¥å£å½¢æˆçš„ chunk çš„ä½“ç§¯ã€‚å¹¶ä¸”å•ç‹¬æ‹†åˆ†å‡ºæ–‡ä»¶ä¹Ÿå¯ä»¥æé«˜ç¼“å­˜çš„å‘½ä¸­ç‡ã€‚<br>
é‚£å’Œ chunk æœ‰ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿ<br>
webpack æœ€åè¾“å‡ºçš„æ–‡ä»¶æ˜¯ bundleï¼Œchunk æ˜¯ bundle çš„å‰èº«ã€‚æ‰€ä»¥æ‹†åˆ† chunk å¾ˆå¤§ç¨‹åº¦ä¸Šå†³å®šäº†æœ€å bundle æ˜¯å¦‚ä½•è¿›è¡Œ code splitting è¾“å‡ºå¤šä¸ªæ–‡ä»¶çš„</p> <h2 id="chunk-æ¥æº"><a href="#chunk-æ¥æº" class="header-anchor">#</a> chunk æ¥æº</h2> <ol><li>webpack é…ç½®ä¸­çš„ entry(å…¥å£) é€‰é¡¹</li> <li>import() æŒ‰éœ€åŠ è½½å‡½æ•°
<blockquote><p>import å‘½ä»¤ã€require() å‡½æ•°ä¸ä¼šäº§ç”Ÿ chunkã€‚å…·ä½“è§<a href="https://kittyfairy-han.github.io/knowledge-system/engineering/design/modularity.html#%E5%85%AD%E3%80%81%E9%A2%9D%E5%A4%96%E8%AF%B4%E6%98%8E" target="_blank" rel="noopener noreferrer">import()ã€importã€require() å·¥ä½œåŸç†å’ŒåŒºåˆ«<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote></li> <li>webpack é…ç½®ä¸­çš„ optimization.splitchunk é€‰é¡¹</li></ol> <h3 id="entry"><a href="#entry" class="header-anchor">#</a> entry</h3> <h4 id="å¯¹åº”å…³ç³»-ğŸ–‡ï¸"><a href="#å¯¹åº”å…³ç³»-ğŸ–‡ï¸" class="header-anchor">#</a> å¯¹åº”å…³ç³» ğŸ–‡ï¸</h4> <p>æ¯ä¸€ä¸ªå…¥å£å°±ä¼šå¯¹åº”åœ°å½¢æˆä¸€ä¸ª chunkã€‚</p> <p>entry å¯ä»¥é…ç½®ä¸ºå­—ç¬¦ä¸²ã€æ•°ç»„ã€å¯¹è±¡ã€‚å‰ä¸¤ç§éƒ½æ˜¯å•å…¥å£ï¼›ç”¨å¯¹è±¡å½¢å¼é…ç½®çš„æ—¶ï¼Œæ˜¯å¤šå…¥å£ï¼Œå½¢å¦‚ entry:{e1:'å…¥å£ 1',e2:'å…¥å£ 2'}ã€‚<a href="https://webpack.docschina.org/concepts/entry-points/#root" target="_blank" rel="noopener noreferrer">è¯¦ç»†å†™æ³•è¯´æ˜<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚</p> <h4 id="ä¸¾ä¾‹è¯´æ˜-ğŸŒ°"><a href="#ä¸¾ä¾‹è¯´æ˜-ğŸŒ°" class="header-anchor">#</a> ä¸¾ä¾‹è¯´æ˜ ğŸŒ°</h4> <p>ä¸ºäº†æ–¹ä¾¿ä»‹ç» chunk ä¸ entry çš„å¯¹åº”å…³ç³»ï¼Œä¸‹é¢ç”¨ä¸€ä¸ªå¤šé¡µåº”ç”¨ä½œä¸ºä¾‹å­ã€‚</p> <div class="language-code extra-class"><pre class="language-text"><code>  src
  â”œâ”€â”€ ...
  â”œâ”€â”€ pages
  |   â”œâ”€â”€ home //home é¡µé¢
  |   |    â”œâ”€â”€ main.js
  |   |    â””â”€â”€ ...
  |   â””â”€â”€ about //about é¡µé¢
  |        â”œâ”€â”€ main.js
  |        â””â”€â”€ ...
  â””â”€â”€ ...

</code></pre></div><p>webpack.config.js ä¸­çš„é…ç½®</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// webpack.config.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token punctuation">{</span>
    home<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token string">&quot;./src/pages/home/main.js&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    about<span class="token operator">:</span> <span class="token string">&quot;./src/pages/about/main.js&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>å¦‚æœä½¿ç”¨äº† vuecli3 è„šæ‰‹æ¶ï¼Œvue.config.js ä¸­çš„é…ç½®</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// vue.config.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  pages<span class="token operator">:</span> <span class="token punctuation">{</span>
    home<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// page çš„å…¥å£(ç›¸å¯¹äºé¡¹ç›®çš„æ ¹ç›®å½•)</span>
      entry<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">src/pages/home/main.js</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
      <span class="token comment">// å…¶ä»–é…ç½®é¡¹...</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    about<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// page çš„å…¥å£(ç›¸å¯¹äºé¡¹ç›®çš„æ ¹ç›®å½•)</span>
      entry<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">src/pages/about/main.js</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
      <span class="token comment">// å…¶ä»–é…ç½®é¡¹...</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>æœ€åä¼šå¯¹åº”çš„è¾“å‡º 2 ä¸ª html å’Œ 2 ä¸ªä¸»è¦ js</p> <div class="language-code extra-class"><pre class="language-text"><code>  dist
  â”œâ”€â”€ home.html //å¼•å…¥äº†home.[hash].js
  â”œâ”€â”€ about.html //å¼•å…¥äº†about.[hash].js
  â””â”€â”€ assets
     â”œâ”€â”€ js
     |    â”œâ”€â”€ home.[hash].js //homeå…¥å£å½¢æˆçš„
     |    â”œâ”€â”€ about.[hash].js //aboutå…¥å£å½¢æˆçš„
     |    â””â”€â”€ ...
     â””â”€â”€ ...

</code></pre></div><h4 id="å°ç»“-ğŸ€"><a href="#å°ç»“-ğŸ€" class="header-anchor">#</a> å°ç»“ ğŸ€</h4> <p>æ¯ä¸ª entry ä¼šå¯¹åº”å½¢æˆä¸€ä¸ª chunk æœ€åæ‰“åŒ…å‡ºæ¥å¯¹åº”çš„ js å’Œ htmlã€‚entry ä¼šå¯¹åº”å½¢æˆ chunkï¼Œä½†æ˜¯å®ƒä¸æ˜¯ä¸ºäº†æ‹†åˆ† chunk è€Œç”Ÿçš„ï¼Œå®ƒæ˜¯ä¸ºäº†æ„å»ºå¤šé¡µåº”ç”¨è€Œç”Ÿçš„ã€‚</p> <blockquote><p>TIPS<br>
entry.homeã€entry.about å¯ä»¥é…ç½®ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œæ”¯æŒçš„é€‰é¡¹ä¸æ‹†åˆ† chunk æ²¡å…³ç³»ï¼Œæ‰€ä»¥è¿™é‡Œå°±ä¸ä»‹ç»äº†ã€‚</p></blockquote> <h3 id="import"><a href="#import" class="header-anchor">#</a> import()</h3> <h4 id="å¯¹åº”å…³ç³»-ğŸ–‡ï¸-2"><a href="#å¯¹åº”å…³ç³»-ğŸ–‡ï¸-2" class="header-anchor">#</a> å¯¹åº”å…³ç³» ğŸ–‡ï¸</h4> <p>import() ä¸€ä¸ªå…·ä½“çš„è·¯å¾„ä¼šæŠŠè¯¥æ¨¡å—é™æ€å¼•å…¥çš„æ‰€æœ‰æ¨¡å—ä¸€èµ·æ‹†åˆ†ä¸ºä¸€ä¸ªç‹¬ç«‹çš„ chunkï¼›</p> <p>import() ä¹Ÿå¯ä»¥æ˜¯å›ºå®šç›®å½•ä¸‹ï¼Œä¸å›ºå®šçš„æ–‡ä»¶ã€‚<br>
ä¾‹å¦‚ï¼Œ import(<code>src/skin/${color}.less</code>) ä¼šæŠŠ src/skin ç›®å½•ä¸­çš„æ¯ä¸ª .less æ–‡ä»¶æ‰“åŒ…åˆ°æ–°çš„ chunk ä¸­ã€‚åœ¨è¿è¡Œæ—¶ï¼Œè®¡ç®—å®Œå˜é‡ color åï¼Œæ˜ å°„åˆ°å¯¹åº”çš„æ–‡ä»¶ã€‚</p> <p>import() å¿…é¡»è‡³å°‘åŒ…å«ä¸€äº›å…³äºæ¨¡å—çš„è·¯å¾„ä¿¡æ¯ï¼Œæ‰“åŒ…å¯ä»¥é™å®šäºä¸€ä¸ªç‰¹å®šçš„ç›®å½•æˆ–æ–‡ä»¶é›†ã€‚ä¹Ÿå°±æ˜¯è¯´ import([å˜é‡]/xxx/xxx) æ˜¯ä¸å…è®¸çš„ï¼Œä½†æ˜¯ import([å¸¸é‡å­—ç¬¦ä¸²è·¯å¾„]/xxx/xxx) æ˜¯å…è®¸çš„ã€‚</p> <h4 id="ä¸¾ä¾‹è¯´æ˜-ğŸŒ°-2"><a href="#ä¸¾ä¾‹è¯´æ˜-ğŸŒ°-2" class="header-anchor">#</a> ä¸¾ä¾‹è¯´æ˜ ğŸŒ°</h4> <p>å‡è®¾æˆ‘ç°åœ¨æœ‰ä¸€ä¸ªå¤šçš®è‚¤çš„éœ€æ±‚ï¼Œæ¯æ¬¡åªéœ€è¦ç”¨åˆ°ä¸€å¥—çš®è‚¤ã€‚ç›®å½•ç»“æ„å¦‚ä¸‹</p> <div class="language-code extra-class"><pre class="language-text"><code>  src
  â”œâ”€â”€ main.js
  â”œâ”€â”€ ...
  â”œâ”€â”€ skin
  |   â”œâ”€â”€ green.less ç»¿è‰²ä¸»é¢˜æ ·å¼æ–‡ä»¶
  |   â””â”€â”€ blue.less è“è‰²ä¸»é¢˜æ ·å¼æ–‡ä»¶
  â””â”€â”€ ...

</code></pre></div><p>è¿™ç§æƒ…å†µå°±å¾ˆé€‚åˆç”¨ import() æŠŠæ¯ä¸ªä¸»é¢˜å½¢æˆä¸€ä¸ª chunk ç„¶åæŒ‰éœ€åŠ è½½</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">setSkin</span><span class="token punctuation">(</span><span class="token parameter">skin</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">../../skin/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>skin<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/index.less</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å¦å¤–ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡é­”æ³•æ³¨é‡Šå¯¹ä»£ç åˆ†å‰²åçš„ chunk æœ‰æ›´å¤šçš„æ§åˆ¶æƒï¼Œå¯é…ç½®é¡¹æœ‰:webpackIncludeã€webpackExcludeã€webpackChunkNameã€webpackModeã€webpackPrefetchã€webpackPreloadã€‚<a href="https://webpack.docschina.org/api/module-methods/" target="_blank" rel="noopener noreferrer">é…ç½®é¡¹å«ä¹‰å’Œå¯æ¥æ”¶çš„å€¼çœ‹è¿™é‡Œ<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>
ï¼ˆimport()ä¸€ä¸ªå…·ä½“è·¯å¾„ï¼ŒwebpackIncludeã€webpackExclude ä¸å¯ç”¨ï¼‰</p> <p>=================================================================</p> <ul><li><p>webpackIncludeã€webpackExclude æ˜¯ç”¨æ¥å¯¹ç›®å½•ä¸‹æ–‡ä»¶è¿›è¡Œä¸€äº›ç­›é€‰è¿‡æ»¤ã€‚<br>
æœ¬ä¾‹å¸Œæœ› skin ç›®å½•ä¸‹çš„æ‰€æœ‰ less æ–‡ä»¶éƒ½ä¼šè¢«æ‰“åŒ…ã€‚é»˜è®¤æƒ…å†µå°±æ˜¯ä¸è¿›è¡Œç­›é€‰ï¼Œå…¨éƒ¨å‚ä¸æ‰“åŒ…ï¼Œè¿™ä¸¤é¡¹å¯ä»¥ä¸é…ç½®ã€‚</p></li> <li><p>webpackChunkName ä¸ºæ‰“åŒ…åçš„æ–‡ä»¶å‘½åã€‚<br>
æœ¬ä¾‹è®¾ç½® webpackChunkName = &quot;global-theme-&quot;</p></li> <li><p>webpackMode æ˜¯ä¸æ‹†åˆ† chunk ç›¸å…³çš„ä¸€ä¸ªå…³é”®é…ç½®ã€‚æœ‰å››ä¸ªå€¼å¯é€‰</p></li> <li><ul><li>'lazy' æ¯ä¸ªæ–‡ä»¶éƒ½ç”Ÿæˆä¸€ä¸ªç‹¬ç«‹çš„æ‡’åŠ è½½ chunkã€‚blue.less-&gt;blue.css,green.less-&gt;green.cssã€‚æ‡’åŠ è½½çš„å«ä¹‰åœ¨äºï¼Œæ‰§è¡Œ setSkin çš„æ—¶å€™æ‰å»åŠ è½½å…·ä½“çš„æ–‡ä»¶ã€‚</li></ul></li> <li><ul><li>'lazy-once' åªç”Ÿæˆä¸€ä¸ªç‹¬ç«‹çš„æ‡’åŠ è½½ chunkã€‚ä¹Ÿå°±æ˜¯è¯´ blue.lessã€green.less ä¼šæ‰“åŒ…åˆ°ä¸€ä¸ª css æ–‡ä»¶ä¸­ã€‚æ‰§è¡Œ setSkin çš„æ—¶å€™æ‰å»åŠ è½½è¿™ä¸ªæ–‡ä»¶ã€‚</li></ul></li> <li><ul><li>'eager' ä¸ä¼šç”Ÿæˆç‹¬ç«‹çš„ chunkã€‚å¦‚æœ setSkin è¿™ä¸ªå‡½æ•°æ˜¯åœ¨ main.js ä¸­å®šä¹‰çš„ï¼Œé‚£ä¹ˆ blue.lessã€green.less ä¼šæ‰“åŒ…åˆ°ä¸»åŒ…ä¸­ã€‚
<blockquote><p>å€¼ä¸º 'eager' ä¸ é™æ€ import çš„åŒºåˆ«ï¼Ÿ
å¯¹äº less æ–‡ä»¶æ¥è¯´å’Œé™æ€çš„ import æ²¡æœ‰åŒºåˆ«ã€‚ä½†æ˜¯å¯¹äº js åˆ™è¡¨ç°ä¸ä¸€æ ·ï¼Œå‡è®¾ import() çš„æ˜¯ä¸€ä¸ª js æ–‡ä»¶ï¼Œé‚£ä¹ˆæ‰§è¡Œ setSkin çš„æ—¶å€™æ‰æŠŠè¯¥ js æ–‡ä»¶çš„å†…å®¹æ‰§è¡Œä¸€éã€‚</p></blockquote></li></ul></li> <li><ul><li>'weak' å®˜ç½‘çš„è§£é‡Šæ²¡çœ‹æ‡‚ o(â•¥ï¹â•¥)oã€‚è‡ªå·±è¯•éªŒçš„è¿‡ç¨‹ä¸­å‘ç° green.less,blue.less æ²¡æœ‰è¢«æ‰“åŒ…è¿›ä¸»åŒ…ï¼Œä¹Ÿæ²¡æœ‰ç‹¬ç«‹å½¢æˆ chunkï¼Œè°ƒç”¨ setSkin çš„æ—¶å€™å‘ç”Ÿäº†æŠ¥é”™ã€‚</li></ul> <p>é€šè¿‡ä¸Šé¢çš„åˆ†ææœ¬ä¾‹è®¾ç½® webpackMode = 'lazy' æ»¡è¶³ç‹¬ç«‹åˆ†åŒ…çš„éœ€æ±‚ã€‚é»˜è®¤é…ç½®å°±æ˜¯ 'lazy'ï¼Œæ‰€ä»¥è¿™é¡¹ä¹Ÿå¯ä»¥ä¸é…ç½®~</p></li> <li><p>webpackPrefetchã€webpackPreload ä¸æ‹†åˆ† chunk çš„å…³ç³»ä¸å¤§ï¼Œè¿™ä¸¤é¡¹ä¸»è¦æ˜¯å½±å“æ–‡ä»¶çš„åŠ è½½æ—¶æœºã€‚<br>
æœ¬èŠ‚æœ«å°¾ä¼šç®€å•ä»‹ç»ä¸€ä¸‹åŒºåˆ«ï¼Œé»˜è®¤æ˜¯ webpackPrefetch:trueã€‚</p></li></ul> <p>=================================================================</p> <p>æœ€åï¼Œåªè¦é…ç½®ä¸ªåå­—å°±å¯ä»¥äº†</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">setSkin</span><span class="token punctuation">(</span><span class="token parameter">color</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">/* webpackChunkName: &quot;global-theme-&quot; */</span>
  <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">../../skin/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>color<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/index.less</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>è¿™æ ·ä½¿ç”¨åï¼Œæ‰“åŒ…å‡ºæ¥ä¸¤ä¸ªä¸»é¢˜æ–‡ä»¶ï¼Œåç§°ä¸º global-theme-0.cssã€global-theme-1.cssã€‚</p> <div class="language-code extra-class"><pre class="language-text"><code>  dist
  â”œâ”€â”€ assets / css
  |   â”œâ”€â”€ global-theme-0.css
  |   â”œâ”€â”€ global-theme-1.css
  |   â””â”€â”€ ...
  â””â”€â”€ ...

</code></pre></div><p>åœ¨å…¥å£ html ä¸­å¼•ç”¨çš„æ–¹å¼</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>assets/css/global-theme-green.css</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>prefetch</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span>
<span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>assets/css/global-theme-blue.css</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>prefetch</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>prefetch çš„è¡¨ç°ï¼šhtml åˆå§‹åŒ–æ—¶ï¼Œæœ¬èº«æ—¶æ²¡æœ‰å¼•å…¥ä¸»é¢˜æ ·å¼çš„ï¼Œå½“æ‰§è¡Œ setSkin å‡½æ•°çš„æ—¶å€™ï¼Œæµè§ˆå™¨å»åŠ è½½äº†å¯¹åº”çš„ css æ–‡ä»¶å†…å®¹ã€‚<br>
preload çš„è¡¨ç°ï¼šhtml åˆå§‹åŒ–æ—¶ï¼Œå°±å»åŠ è½½äº† css æ–‡ä»¶å†…å®¹ï¼Œå½“æ‰§è¡Œ setSkin å‡½æ•°çš„æ—¶å€™ï¼Œä½¿å¯¹åº”çš„ css æ–‡ä»¶ç”Ÿæ•ˆã€‚æ‰€ä»¥ç”¨ preload å¯èƒ½ä¼šæµªè´¹ä¸€å®šçš„è¯·æ±‚æ¬¡æ•°ã€‚</p> <h4 id="å°ç»“-ğŸ€-2"><a href="#å°ç»“-ğŸ€-2" class="header-anchor">#</a> å°ç»“ ğŸ€</h4> <p>import() ä¼šæ‹†åˆ†å‡º chunkï¼Œä½†å®ƒæ˜¯ä¸ºäº†æŒ‰éœ€åŠ è½½è€Œç”Ÿçš„ï¼Œå®ƒä¹Ÿä¸æ˜¯ä¸“é—¨ä¸ºäº†æ‹†åˆ† chunk è€Œç”Ÿçš„ã€‚</p> <h3 id="optimization-splitchunk"><a href="#optimization-splitchunk" class="header-anchor">#</a> optimization.splitchunk</h3> <h4 id="å¯¹åº”å…³ç³»-ğŸ–‡ï¸-3"><a href="#å¯¹åº”å…³ç³»-ğŸ–‡ï¸-3" class="header-anchor">#</a> å¯¹åº”å…³ç³» ğŸ–‡ï¸</h4> <p>splitchunk æœ‰å¾ˆå¤šé…ç½®é¡¹ï¼Œå…¶ä¸­ <strong>splitchunk.cacheGroups å¯¹è±¡ä¸­çš„æ¯ä¸€é¡¹å¯¹åº”ä¸€ä¸ª chunk</strong>ã€‚</p> <p>optimization.splitchunk æ˜¯ webpack4+ çš„ä¸€ä¸ªå†…ç½®æ’ä»¶ã€‚ï¼ˆwebpack4 ä¹‹å‰æ˜¯ CommonsChunkPluginï¼‰ã€‚<br>
splitchunk å¯ä»¥æ›´åŠ ç»†ç²’åº¦çš„æ‹†åˆ† chunkï¼Œå¯ä»¥å¯¹ entry å½¢æˆçš„åŒæ­¥ chunk å’Œ import()å½¢æˆçš„æŒ‰éœ€ chunkï¼Œå†è¿›è¡Œæ‹†åˆ†å’Œæå–ã€‚<br>
æ¯”å¦‚å¤šé¡µé¢åº”ç”¨çš„åœºæ™¯ä¸‹ï¼Œ å¤šä¸ªå…¥å£éƒ½å¼•ç”¨äº† echarts è¿™ç§æ¯”è¾ƒå¤§çš„ç¬¬ä¸‰æ–¹åº“ï¼Œå¦‚æœ cacheGroup å¯¹è±¡ä¸ºç©ºï¼Œé‚£ä¹ˆæ¯ä¸ªå…¥å£å½¢æˆçš„ chunk éƒ½ä¼šåŒ…å«ä¸€ä»½ echarts çš„ä»£ç ã€‚<br>
webpack<a href="https://webpack.docschina.org/plugins/split-chunks-plugin/#optimizationsplitchunks" target="_blank" rel="noopener noreferrer">é»˜è®¤æƒ…å†µ<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ä¸‹ï¼ŒcacheGroup å·²ç»é…ç½®äº†ä¸¤ä¸ªç»„ï¼Œä½†æ˜¯ä¸ä½œç”¨äºå…¥å£å½¢æˆçš„ chunkã€‚å¦‚æœæ˜¯ä½¿ç”¨ vuecli3 è¿™æ ·çš„è„šæ‰‹æ¶ï¼Œå®ƒå¯¹ splitchunk åˆè¿›è¡Œäº†ä¸€äº›ä¿®æ”¹ï¼Œå®ƒçš„é»˜è®¤æƒ…å†µ(è¡¥å……è¯´æ˜éƒ¨åˆ†)ä¼šæŠŠå…¥å£ chunk ä¸­çš„ echarts å’Œå…¶ä»–çš„ node_modules æ¨¡å—ä¸€èµ·æ‹†åˆ†å‡ºæ¥å½¢æˆä¸€ä¸ªç‹¬ç«‹çš„ chunkã€‚</p> <h4 id="ä¸¾ä¾‹è¯´æ˜-ğŸŒ°-3"><a href="#ä¸¾ä¾‹è¯´æ˜-ğŸŒ°-3" class="header-anchor">#</a> ä¸¾ä¾‹è¯´æ˜ ğŸŒ°</h4> <p>å¯¹äºä»¥ä¸‹çš„ä¸€ä¸ªå¤šé¡µåº”ç”¨ï¼Œå‡è®¾æˆ‘ä»¬æƒ³è¦æŠŠ echarts å•ç‹¬æ‹†åˆ†ä¸ºä¸€ä¸ª chunk è¿›è€Œæ‰“åŒ…åˆ°ä¸€ä¸ªç‹¬ç«‹çš„æ–‡ä»¶è¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ</p> <div class="language-code extra-class"><pre class="language-text"><code>  src
  â”œâ”€â”€ ...
  â”œâ”€â”€ pages
  |   â”œâ”€â”€ home
  |   |    â”œâ”€â”€ main.js ï¼ˆimport ./App.vueï¼‰
  |   |    â”œâ”€â”€ ...
  |   |    â””â”€â”€ App.vue ï¼ˆimport echartsï¼‰
  |   â””â”€â”€ about
  |        â”œâ”€â”€ main.js ï¼ˆimport ./App.vueï¼‰
  |        â”œâ”€â”€ ...
  |        â””â”€â”€ App.vue ï¼ˆimport echartsï¼‰
  â””â”€â”€ ...

</code></pre></div><p>æ ¹æ® cacheGroup ä¸ chunk çš„å¯¹åº”å…³ç³»ï¼Œå¤§æ¦‚çš„æ€è·¯</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    splitChunks<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">//... é»˜è®¤</span>
      cacheGroups<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">//... é»˜è®¤</span>
        <span class="token comment">// å¢åŠ </span>
         echarts<span class="token operator">:</span> <span class="token punctuation">{</span>
             <span class="token comment">// TODO å…·ä½“é…ç½®é¡¹</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>

</code></pre></div><p>cacheGroup æœ‰å¾ˆå¤šï¼ˆå°†è¿‘ 20 ä¸ªï¼‰é…ç½®é¡¹ï¼Œ ä¸‹é¢ä»‹ç»æˆ‘åœ¨å®è·µè¿‡ç¨‹ä¸­ç”¨åˆ°çš„å‡ ä¸ª nameã€chunksã€testã€minChunksã€minSizeã€priorityã€‚ï¼ˆè¿˜æœ‰ä¸€äº›é…ç½®é¡¹æˆ‘ä¹Ÿè¿˜æ²¡æœ‰å­¦ä¹ çš„å¾ˆé€å½»ï¼Œå°±ä¸ä»‹ç»äº†ï¼‰</p> <ul><li>name æ˜¯æ‰“åŒ…åçš„æ–‡ä»¶åã€‚å½“æˆ‘ä»¬è®¾ç½® name ä¸º chunk-echarts åï¼Œæ‰“åŒ…å‡ºæ¥çš„æ–‡ä»¶åæ˜¯ chunks-echarts.[hash].js</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    splitChunks<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">//... é»˜è®¤</span>
      cacheGroups<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">//... é»˜è®¤</span>
        <span class="token comment">// å¢åŠ </span>
         echarts<span class="token operator">:</span> <span class="token punctuation">{</span>
             name<span class="token operator">:</span> <span class="token string">&quot;chunk-echarts&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>chunks å’Œ test å…±åŒå†³å®šå“ªäº›æ¨¡å—ä¼šè¢«è¿™ä¸ªç¼“å­˜ç»„åŒ…æ‹¬è¿›æ¥ï¼Œæœ€åå½¢æˆä¸€ä¸ª chunkã€‚æ˜¯ä¸€ä¸ªâ€œé”å®šç›®æ ‡â€çš„ä½œç”¨ã€‚</p> <ul><li>chunks å¯ä»¥é…ç½®ä¸ºå‡½æ•°æˆ–è€…æ˜¯ä¸‰ä¸ªç‰¹å®šçš„å€¼ï¼ˆ'initial'ã€'async'ã€'all'ï¼‰ã€‚<br>
è®¾ç½®ä¸º initial ä»£è¡¨è¿™ä¸ªç¼“å­˜ç»„åªå¯¹å…¥å£å½¢æˆçš„ chunk èµ·ä½œç”¨ï¼Œè®¾ç½®ä¸º async åªå¯¹æŒ‰éœ€ import()å½¢æˆçš„ chunk èµ·ä½œç”¨ï¼Œè®¾ç½®ä¸º all åˆ™å¯ä»¥å…±äº«åŒæ­¥å’ŒæŒ‰éœ€çš„ chunkã€‚
æœ¬ä¾‹ä¸­ï¼Œecharts æ˜¯é™æ€ import å¼•å…¥ï¼Œä¼šå­˜åœ¨äºå…¥å£å½¢æˆçš„ chunk ä¸­ï¼Œæ‰€ä»¥ chunks = initialã€‚</li> <li>test å€¼å¯ä»¥æ˜¯å‡½æ•°æˆ–è€…æ­£åˆ™ã€‚åœ¨ chunks é™åˆ¶ä¹‹ä¸Šï¼Œå†æ ¹æ®æ­£åˆ™ï¼ˆæˆ–å‡½æ•°ä¸­å®šä¹‰çš„æ¡ä»¶ï¼‰è¿›è¡Œæ¨¡å—åç§°çš„åŒ¹é…ã€‚<br>
æˆ‘ä»¬å°±è¦åŒ¹é… echartsï¼Œæ‰€ä»¥è®¾ç½® test = /(echarts)/ ã€‚</li></ul> <p>ï¼ˆ<a href="https://webpack.docschina.org/plugins/split-chunks-plugin/#splitchunkscachegroupscachegrouptype" target="_blank" rel="noopener noreferrer">type é€‰é¡¹<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ä¹Ÿæ˜¯ç”¨æ¥é”å®šç›®æ ‡çš„ï¼Œæœ¬ä¾‹ä¸­æ²¡æœ‰ä½¿ç”¨åˆ°ï¼Œæš‚ä¸ä»‹ç»ï¼‰</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    splitChunks<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">//... é»˜è®¤</span>
      cacheGroups<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">//... é»˜è®¤</span>
        <span class="token comment">// å¢åŠ </span>
         echarts<span class="token operator">:</span> <span class="token punctuation">{</span>
             chunks<span class="token operator">:</span> <span class="token string">&quot;initial&quot;</span><span class="token punctuation">,</span> <span class="token comment">// ç”¨allä¹Ÿè¡Œ</span>
             test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(echarts)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>é™¤æ­¤ä¹‹å¤–ï¼Œæ‹†åˆ† chunk è¿˜æœ‰ä¸€äº›å…¶ä»–é™åˆ¶ã€‚åŒæ—¶æ»¡è¶³è¿™äº›æ¡ä»¶æ‰èƒ½æˆåŠŸçš„æ‹†åˆ†å‡ºæ¥ chunk</p> <ul><li>minChunks æ‹†åˆ†å‰å…±äº«çš„æœ€å° chunks æ•°ã€‚è¿™å…¶å®æ˜¯å¯¹ä½¿ç”¨é¢‘ç‡çš„ä¸€ä¸ªé™åˆ¶ï¼Œç»“åˆæœ¬ä¾‹å…·ä½“å±•å¼€è¯´æ˜æ˜¯è¿™æ ·çš„ï¼šecharts æ²¡æ‹†åˆ†å‡ºæ¥ä¹‹å‰è‡³å°‘è¢«åœ¨å‡ ä¸ª chunk æ‰€å…±äº«ï¼Ÿ<br>
echarts æ‹†åˆ†å‰è¢« 2 ä¸ª chunk å…±äº«(æˆ‘ä»¬è®¾ç½®äº† chunks æ˜¯ initialï¼Œåªè€ƒè™‘ç”± entry å½¢æˆçš„ä¸¤ä¸ª chunkï¼Œhome å’Œ aboutï¼Œè¿™ä¸¤ä¸ªé‡Œé¢åˆ†åˆ«éƒ½ç”¨äº† echarts),æ‰€ä»¥ minchunk è®¾ç½®ä¸º 1 æˆ–è€… 2 éƒ½å¯ä»¥ã€‚é»˜è®¤å€¼æ˜¯ 1ï¼Œæ˜¯å¯ä»¥æ»¡è¶³éœ€æ±‚çš„ï¼Œè¿™ä¸€é¡¹å¯ä»¥çœç•¥é…ç½®ã€‚</li> <li>minSize æ‹†åˆ†åæœ€å°å­—èŠ‚æ•°ã€‚è¿™æ˜¯å¯¹ä½“ç§¯çš„ä¸€ä¸ªé™åˆ¶ï¼Œ<br>
echarts æ‹†åˆ†å‡ºæ¥å‹ç¼©å‰&gt;8kï¼Œæ‰€ä»¥ minsize å¯ä»¥è®¾ç½®ä¸ºæ¯” 8k å°çš„æ•°å­—å°±è¡Œã€‚é»˜è®¤å€¼æ˜¯ 20000ï¼Œæ˜¯å¯ä»¥æ»¡è¶³éœ€æ±‚çš„ï¼Œè¿™ä¸€é¡¹å¯ä»¥çœç•¥é…ç½®ã€‚</li> <li>splitChunks.maxInitialRequests ä¸å…¥å£ js æ–‡ä»¶å¹¶è¡ŒåŠ è½½çš„æ–‡ä»¶ä¸ªæ•°ï¼ˆåŒ…æ‹¬å…¥å£æ–‡ä»¶ï¼‰è¿›è¡Œé™åˆ¶ã€‚å¦‚æœæ‹†åˆ†çš„ chunk è¶…å‡ºè¿™ä¸ªæ•°ç›®ï¼Œä¼˜å…ˆä½“ç§¯å¤§çš„ chunk ç‹¬ç«‹æ‹†åˆ†å‡ºæ¥ã€‚<br>
æœ¬ä¾‹ä¸­ï¼Œhome é¡µé¢ï¼Œä¸å…¥å£ home.js ä¸€èµ·åŠ è½½çš„æœ‰ node_moudles å½¢æˆçš„ chunkï¼Œecharts å½¢æˆçš„ chunkã€‚ä¸€å…±ä¸‰ä¸ªï¼Œæ‰€ä»¥ maxInitialRequests åº”è¯¥è®¾ç½®ä¸º&gt;=3 çš„æ•°å­—ã€‚</li> <li>splitChunks.maxAsyncRequests å¯¹æŒ‰éœ€åŠ è½½å¹¶è¡Œæ¬¡æ•°è¿›è¡Œé™åˆ¶ã€‚å…¶ä»–è¦ç‚¹ä¸ maxInitialRequests æƒ³åŒã€‚
<blockquote><p>æ³¨æ„è¿™ä¸¤ä¸ªä¸æ˜¯å±äºæ¯ä¸ª cacheGroup çš„é…ç½®é¡¹ï¼Œæ˜¯ splitChunks çš„é…ç½®é¡¹ã€‚</p></blockquote></li> <li>enforce æ˜¯ç”¨æ¥æ‰“ç ´é™åˆ¶çš„ï¼Œå‘Šè¯‰ webpack å¿½ç•¥ minChunksã€minChunksã€maxAsyncRequests å’Œ maxInitialRequests é€‰é¡¹ï¼Œå¹¶å§‹ç»ˆä¸ºæ­¤ç¼“å­˜ç»„åˆ›å»º chunkã€‚</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    splitChunks<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">//... é»˜è®¤</span>
      cacheGroups<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">//... é»˜è®¤</span>
        maxInitialRequests<span class="token operator">:</span><span class="token number">5</span><span class="token punctuation">,</span>
        <span class="token comment">// å¢åŠ </span>
         echarts<span class="token operator">:</span> <span class="token punctuation">{</span>
             chunks<span class="token operator">:</span> <span class="token string">&quot;initial&quot;</span><span class="token punctuation">,</span> <span class="token comment">// ç”¨allä¹Ÿè¡Œ</span>
             test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(echarts)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
             <span class="token comment">// minChunks:1,//é»˜è®¤è¡Œä¸º</span>
             <span class="token comment">// minsize:20000,//é»˜è®¤è¡Œä¸º</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ä¼˜å…ˆçº§ç›¸å…³</p> <ul><li>priority è¿™ä¸ªé…ç½®é¡¹æ˜¯ç”¨æ¥åè°ƒå„ä¸ªç¼“å­˜ç»„ä¹‹é—´çš„ä¼˜å…ˆçº§çš„ã€‚<br>
é»˜è®¤æƒ…å†µä¸‹ webpack å·²ç»å†…ç½®äº†ä¸¤ç»„ç¼“å­˜<br>
â‘  æ˜¯æ¥è‡ª node_modules ä¸­çš„æ¨¡å—ä¼šç‹¬ç«‹å‡ºä¸€ä¸ª chunkï¼Œè¿™ç»„çš„ä¼˜å…ˆçº§æ˜¯-10ã€‚
â‘¡ æ˜¯è¢«é‡å¤ä½¿ç”¨ï¼ˆå¼•ç”¨æ¬¡æ•°&gt;=2ï¼‰çš„æ¨¡å—ä¼šç‹¬ç«‹å‡ºä¸€ä¸ª chunkï¼Œè¿™ç»„çš„ä¼˜å…ˆçº§æ˜¯-20ã€‚<br>
echarts å®ƒå³æ˜¯æ¥è‡ª node_modulesã€æ˜¯è¢«é‡å¤ä½¿ç”¨ã€ä¹Ÿæ˜¯æ»¡è¶³æˆ‘ä»¬è‡ªå®šä¹‰çš„ç¼“å­˜ç»„çš„ã€‚æˆ‘ä»¬è¦è®©å®ƒæœ€ç»ˆå½’å±äºæˆ‘ä»¬è‡ªå®šä¹‰çš„ç¼“å­˜ç»„ï¼Œé‚£ä¹ˆ priority å°±è¦é«˜äº-10ã€-20ã€‚priority çš„é»˜è®¤å€¼æ˜¯ 0ï¼Œå¤§äºé»˜è®¤ä¸¤ç»„çš„ä¼˜å…ˆçº§ï¼Œè¿™ä¸€é¡¹ä¹Ÿå¯ä»¥çœç•¥é…ç½®ã€‚</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    splitChunks<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">//... é»˜è®¤</span>
      maxInitialRequests<span class="token operator">:</span><span class="token number">5</span><span class="token punctuation">,</span>
      cacheGroups<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">//... é»˜è®¤</span>
        <span class="token comment">// å¢åŠ </span>
         echarts<span class="token operator">:</span> <span class="token punctuation">{</span>
             chunks<span class="token operator">:</span> <span class="token string">&quot;initial&quot;</span><span class="token punctuation">,</span> <span class="token comment">// ç”¨allä¹Ÿè¡Œ</span>
             test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(echarts)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
             <span class="token comment">// minChunks:1,//é»˜è®¤è¡Œä¸º</span>
             <span class="token comment">// minsize:20000,//é»˜è®¤è¡Œä¸º</span>
             <span class="token comment">// priority: 0,//é»˜è®¤è¡Œä¸º</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ä¸Šé¢æåˆ°çš„ cacheGroup ä¸­çš„é…ç½®é¡¹ï¼Œchunksã€maxAsyncRequestsã€maxInitialRequestsã€minChunksã€minSize ï¼Œä¹Ÿå¯ä»¥ä½œä¸º splitChunks çš„é…ç½®é¡¹è¿›è¡Œä¸€ä¸ªå…¨å±€é…ç½®ã€‚å½“ cacheGroup ä¸­æ²¡æœ‰é…ç½®çš„æ—¶å€™ï¼Œå°±ç”¨ splitChunks.xxx çš„å€¼ã€‚å¦‚æœ cacheGroup ä¸­é…ç½®äº†ï¼Œé‚£ä¹ˆå°±ç”¨ cacheGroup ä¸­é…ç½®çš„å€¼ã€‚<br>
è‡ªå®šä¹‰æ‹†åˆ† chunk åè¦åœ¨å…¥å£é…ç½®ä¸€ä¸‹ï¼Œè¿™æ ·æ‰èƒ½åœ¨ html ä¸­æ­£å¸¸å¼•å…¥ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// vue.config.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  pages<span class="token operator">:</span> <span class="token punctuation">{</span>
    home<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// page çš„å…¥å£(ç›¸å¯¹äºé¡¹ç›®çš„æ ¹ç›®å½•)</span>
      entry<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">src/pages/home/main.js</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
      <span class="token comment">// å…¶ä»–é…ç½®é¡¹...</span>
      <span class="token comment">// ä¸å…¥å£jsä¸€èµ·åŠ è½½çš„</span>
      chunks<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;chunk-echarts&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;chunk-vendors&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;chunk-common&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;home&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//é»˜è®¤æ˜¯['chunk-vendors', 'chunk-common', 'index']</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    about<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// page çš„å…¥å£(ç›¸å¯¹äºé¡¹ç›®çš„æ ¹ç›®å½•)</span>
      entry<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">src/pages/about/main.js</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
      <span class="token comment">// å…¶ä»–é…ç½®é¡¹...</span>
      <span class="token comment">// ä¸å…¥å£jsä¸€èµ·åŠ è½½çš„</span>
      chunks<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;chunk-echarts&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;chunk-vendors&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;chunk-common&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;home&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//é»˜è®¤æ˜¯['chunk-vendors', 'chunk-common', 'index']</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">chainWebpack</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">webpackConfig</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// å…¶ä»–é…ç½®...</span>
    <span class="token comment">/* ä¸»åŠ¨åˆ† chunk */</span>
    webpackConfig<span class="token punctuation">.</span>optimization<span class="token punctuation">.</span><span class="token function">splitChunks</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      cacheGroups<span class="token operator">:</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>
        <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        defaultCacheGroups<span class="token punctuation">,</span>
        config<span class="token punctuation">.</span>customCacheGroups
      <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>æ‰“åŒ…å chunk-echarts ä¼šåœ¨ dist/assets/js ä¸‹ã€‚å¹¶ä¸”ä¼šå’Œå…¥å£ js ä¸€èµ·åœ¨é¡µé¢å¯åŠ¨æ—¶å°±åŠ è½½ã€‚</p> <h4 id="å°ç»“-ğŸ€-3"><a href="#å°ç»“-ğŸ€-3" class="header-anchor">#</a> å°ç»“ ğŸ€</h4> <p>å½“åŸå§‹ chunkï¼ˆentry å½¢æˆçš„ã€import()å½¢æˆçš„),éœ€è¦å†æ¬¡æ‹†åˆ†ä»¥ä¾¿äºæå–å‡ºå…¬å…±éƒ¨åˆ†æˆ–åˆ™å…¶ä»–ç”¨é€”å°±é€‚åˆæ´¾å‡º splitChunks å•¦ !</p> <h3 id="è¡¥å……è¯´æ˜"><a href="#è¡¥å……è¯´æ˜" class="header-anchor">#</a> è¡¥å……è¯´æ˜</h3> <ul><li>vuecli3 ä¸­ splitchunk çš„é»˜è®¤é…ç½®</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  cacheGroups<span class="token operator">:</span> <span class="token punctuation">{</span>
    vendors<span class="token operator">:</span> <span class="token punctuation">{</span>
      name<span class="token operator">:</span> <span class="token string">'chunk-vendors'</span><span class="token punctuation">,</span>
      test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[\\\/]node_modules[\\\/]</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      priority<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">,</span>
      chunks<span class="token operator">:</span> <span class="token string">'async'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    common<span class="token operator">:</span> <span class="token punctuation">{</span>
      name<span class="token operator">:</span> <span class="token string">'chunk-common'</span><span class="token punctuation">,</span>
      minChunks<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
      priority<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">,</span>
      chunks<span class="token operator">:</span> <span class="token string">'async'</span><span class="token punctuation">,</span>
      reuseExistingChunk<span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="ç¤ºä¾‹ä½¿ç”¨"><a href="#ç¤ºä¾‹ä½¿ç”¨" class="header-anchor">#</a> ç¤ºä¾‹ä½¿ç”¨</h2> <p><a href="https://github.com/KittyFairy-Han/pluggable-MPA/tree/learning/webpack-chunk" target="_blank" rel="noopener noreferrer">ä»£ç åœ°å€<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ol><li>ä¸‹è½½åˆ°æœ¬åœ°</li> <li>npm i</li> <li>npm run build_test</li> <li>æŸ¥çœ‹ dist æ–‡ä»¶å¤¹ï¼Œæ‰“åŒ…ç»“æœåº”è¯¥æ˜¯å¦‚ä¸‹è¿™æ ·çš„ï¼š</li></ol> <div class="language-code extra-class"><pre class="language-text"><code>  dist
  â”œâ”€â”€ home.html
  â”œâ”€â”€ about.html
  â””â”€â”€ assets
     â”œâ”€â”€ js
     |    â”œâ”€â”€ home.[hash].js //homeå…¥å£å½¢æˆçš„
     |    â”œâ”€â”€ about.[hash].js //aboutå…¥å£å½¢æˆçš„
     |    â”œâ”€â”€ chunk-echarts.[hash].js //é€šè¿‡splitchunkå¯¹echartsè¿›è¡Œäº†æ‹†åˆ†ï¼Œç‹¬ç«‹å‡ºä¸€ä¸ªæ–‡ä»¶
     |    â”œâ”€â”€ chunk-vendors.[hash].js //splitchunké»˜è®¤é…ç½®ä¸‹ï¼Œnode_modulesä¸­çš„æ¨¡å—ç‹¬ç«‹å‡ºä¸€ä¸ªæ–‡ä»¶
     |    â”œâ”€â”€ app-theme-0.[hash].js //é…åˆapp-theme-0.css
     |    â””â”€â”€ app-theme-1.[hash].js //é…åˆapp-theme-1.css
     â””â”€â”€ css
          â”œâ”€â”€ home.css //webpacké»˜è®¤é…ç½®ä¼šæŠŠå…¥å£jsä¸­çš„cssä»£ç å•ç‹¬æ‹†åˆ†å‡ºä¸€ä¸ªcssæ–‡ä»¶
          â”œâ”€â”€ about.css //webpacké»˜è®¤é…ç½®ä¼šæŠŠå…¥å£jsä¸­çš„cssä»£ç å•ç‹¬æ‹†åˆ†å‡ºä¸€ä¸ªcssæ–‡ä»¶
          â”œâ”€â”€ app-theme-0.css //é€šè¿‡import()åŠ¨æ€å¼•å…¥ä¸»é¢˜æ–‡ä»¶ï¼Œäº§ç”Ÿäº†ä¸€ä¸ªç‹¬ç«‹çš„å¼‚æ­¥åŠ è½½æ–‡ä»¶
          â””â”€â”€ app-theme-1.css //é€šè¿‡import()åŠ¨æ€å¼•å…¥ä¸»é¢˜æ–‡ä»¶ï¼Œäº§ç”Ÿäº†ä¸€ä¸ªç‹¬ç«‹çš„å¼‚æ­¥åŠ è½½æ–‡ä»¶
</code></pre></div><ol start="3"><li>æœ¬åœ°æ‰“å¼€ home.htmlã€about.htmlã€‚èƒ½å¤Ÿæ­£å¸¸å¯åŠ¨ã€‚
<img src="/knowledge-system/assets/img/home-init.4315cf44.png" alt="homeé¡µé¢"> <img src="/knowledge-system/assets/img/about-init.bc4e1739.png" alt="abouté¡µé¢"></li> <li>home é¡µé¢ï¼Œæµè§ˆå™¨æ§åˆ¶å°æ‰§è¡Œ setSkin('green')ã€‚èƒ½å¤Ÿåº”ç”¨ç»¿è‰²ä¸»é¢˜
<img src="/knowledge-system/assets/img/home-theme.7346631d.png" alt="homeé¡µé¢åº”ç”¨ä¸»é¢˜"></li></ol> <h2 id="å‚è€ƒæ–‡æ¡£"><a href="#å‚è€ƒæ–‡æ¡£" class="header-anchor">#</a> å‚è€ƒæ–‡æ¡£</h2> <p><a href="https://webpack.js.org/" target="_blank" rel="noopener noreferrer">webpack<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/knowledge-system/engineering/webpack/main-flow.html" class="prev">
        ä¸»æµç¨‹ï¼ˆä¸»çº¿å‰§æƒ…ï¼‰
      </a></span> <span class="next"><a href="/knowledge-system/engineering/webpack/optimization.html">
        ä¼˜åŒ–
      </a>
      â†’
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/knowledge-system/assets/js/app.714e5304.js" defer></script><script src="/knowledge-system/assets/js/2.7dc4c8b6.js" defer></script><script src="/knowledge-system/assets/js/10.3cd1ac0a.js" defer></script>
  </body>
</html>
